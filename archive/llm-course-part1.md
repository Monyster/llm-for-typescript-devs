# ğŸš€ ĞÑĞ½Ğ¾Ğ²Ğ¸ LLM Ñ‚Ğ° AI-Ğ°Ğ³ĞµĞ½Ñ‚Ñ–Ğ² Ğ´Ğ»Ñ Ñ€Ğ¾Ğ·Ñ€Ğ¾Ğ±Ğ½Ğ¸ĞºÑ–Ğ²

## ĞŸĞ¾Ğ²Ğ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ğ¸Ğ¹ ĞºÑƒÑ€Ñ | Ğ’ĞµÑ€ÑÑ–Ñ 2026

---

# ğŸ“š Ğ—Ğ¼Ñ–ÑÑ‚

## Ğ§Ğ°ÑÑ‚Ğ¸Ğ½Ğ° 1
- [ğŸƒ Quick Start â€” ĞŸĞµÑ€ÑˆĞ¸Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ·Ğ° 5 Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½](#-quick-start--Ğ¿ĞµÑ€ÑˆĞ¸Ğ¹-Ğ·Ğ°Ğ¿ÑƒÑĞº-Ğ·Ğ°-5-Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½)
- [ĞœĞ¾Ğ´ÑƒĞ»ÑŒ 1: Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ– ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ñ–Ñ—](#Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ-1-Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ–-ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ñ–Ñ—)
- [ĞœĞ¾Ğ´ÑƒĞ»ÑŒ 2: Chat API Ğ½Ğ° Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ†Ñ–](#Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ-2-chat-api-Ğ½Ğ°-Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ†Ñ–)
- [ĞœĞ¾Ğ´ÑƒĞ»ÑŒ 2.5: Ğ¢Ğ¸Ğ¿Ğ¾Ğ²Ñ– Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸ Ñ‚Ğ° Ñ—Ñ… Ğ²Ğ¸Ñ€Ñ–ÑˆĞµĞ½Ğ½Ñ](#Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ-25-Ñ‚Ğ¸Ğ¿Ğ¾Ğ²Ñ–-Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸-Ñ‚Ğ°-Ñ—Ñ…-Ğ²Ğ¸Ñ€Ñ–ÑˆĞµĞ½Ğ½Ñ)

## Ğ§Ğ°ÑÑ‚Ğ¸Ğ½Ğ° 2
- ĞœĞ¾Ğ´ÑƒĞ»ÑŒ 3: Function Calling
- ĞœĞ¾Ğ´ÑƒĞ»ÑŒ 4: AI ĞĞ³ĞµĞ½Ñ‚Ğ¸
- Real-World Use Cases

## Ğ§Ğ°ÑÑ‚Ğ¸Ğ½Ğ° 3
- ĞœĞ¾Ğ´ÑƒĞ»ÑŒ 5: MCP (Model Context Protocol)
- ĞœĞ¾Ğ´ÑƒĞ»ÑŒ 6: RAG (Retrieval Augmented Generation)
- ĞœĞ¾Ğ´ÑƒĞ»ÑŒ 7: Ğ‘ĞµĞ·Ğ¿ĞµĞºĞ° LLM-Ğ·Ğ°ÑÑ‚Ğ¾ÑÑƒĞ½ĞºÑ–Ğ²

## Ğ§Ğ°ÑÑ‚Ğ¸Ğ½Ğ° 4
- ĞœĞ¾Ğ´ÑƒĞ»ÑŒ 8: Production Ñ‚Ğ° Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ñ–Ğ·Ğ°Ñ†Ñ–Ñ
- ĞœĞ¾Ğ´ÑƒĞ»ÑŒ 9: ĞŸÑ€Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ñ– Ğ·Ğ°Ğ²Ğ´Ğ°Ğ½Ğ½Ñ
- Debugging LLM Applications
- FAQ, Ğ“Ğ»Ğ¾ÑĞ°Ñ€Ñ–Ğ¹, Ğ§ĞµĞºĞ»Ñ–ÑÑ‚Ğ¸

---

# ğŸƒ Quick Start â€” ĞŸĞµÑ€ÑˆĞ¸Ğ¹ Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ·Ğ° 5 Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½

> ğŸ’¡ **ĞœĞµÑ‚Ğ°:** Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚Ğ¸ Ğ¿ĞµÑ€ÑˆĞ¸Ğ¹ Ñ€Ğ¾Ğ±Ğ¾Ñ‡Ğ¸Ğ¹ Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´ Ñ– Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ñ‚Ğ¸ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ Ğ²Ñ–Ğ´ LLM Ğ·Ğ° 5 Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½.

## ĞšÑ€Ğ¾Ğº 1: Ğ’ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ (1 Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½Ğ°)

```bash
# Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ñ–Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ğ¸Ğ¹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚
mkdir my-first-llm && cd my-first-llm
npm init -y

# Ğ’ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ñ–Ñ‚ÑŒ Vercel AI SDK (Ğ½Ğ°Ğ¹Ğ·Ñ€ÑƒÑ‡Ğ½Ñ–ÑˆĞ¸Ğ¹ ÑĞ¿Ğ¾ÑÑ–Ğ± Ğ¿Ñ€Ğ°Ñ†ÑĞ²Ğ°Ñ‚Ğ¸ Ğ· LLM)
npm install ai @ai-sdk/openai @ai-sdk/anthropic zod
npm install -D typescript tsx @types/node

# Ğ†Ğ½Ñ–Ñ†Ñ–Ğ°Ğ»Ñ–Ğ·ÑƒĞ¹Ñ‚Ğµ TypeScript
npx tsc --init
```

## ĞšÑ€Ğ¾Ğº 2: ĞÑ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ½Ñ API ĞºĞ»ÑÑ‡Ğ° (2 Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½Ğ¸)

ĞĞ±ĞµÑ€Ñ–Ñ‚ÑŒ Ğ¾Ğ´Ğ¸Ğ½ Ñ–Ğ· Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ñ–Ğ²:

| ĞŸÑ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€ | Ğ ĞµÑ”ÑÑ‚Ñ€Ğ°Ñ†Ñ–Ñ | Ğ‘ĞµĞ·ĞºĞ¾ÑˆÑ‚Ğ¾Ğ²Ğ½Ğ¸Ğ¹ tier |
|-----------|------------|-------------------|
| **OpenAI** | [platform.openai.com](https://platform.openai.com) | $5 ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ñ–Ğ² Ğ´Ğ»Ñ Ğ½Ğ¾Ğ²Ğ¸Ñ… Ğ°ĞºĞ°ÑƒĞ½Ñ‚Ñ–Ğ² |
| **Anthropic** | [console.anthropic.com](https://console.anthropic.com) | $5 ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ñ–Ğ² Ğ´Ğ»Ñ Ğ½Ğ¾Ğ²Ğ¸Ñ… Ğ°ĞºĞ°ÑƒĞ½Ñ‚Ñ–Ğ² |
| **Google AI** | [aistudio.google.com](https://aistudio.google.com) | Ğ‘ĞµĞ·ĞºĞ¾ÑˆÑ‚Ğ¾Ğ²Ğ½Ğ¾ Ğ´Ğ¾ 60 Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñ–Ğ²/Ñ…Ğ² |

```bash
# Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ñ–Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ» .env
echo "OPENAI_API_KEY=sk-your-key-here" > .env
# Ğ°Ğ±Ğ¾
echo "ANTHROPIC_API_KEY=sk-ant-your-key-here" > .env
```

## ĞšÑ€Ğ¾Ğº 3: Hello World (2 Ñ…Ğ²Ğ¸Ğ»Ğ¸Ğ½Ğ¸)

Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ñ–Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ» `hello.ts`:

```typescript
// hello.ts
import { generateText } from 'ai';
import { openai } from '@ai-sdk/openai';
// Ğ°Ğ±Ğ¾: import { anthropic } from '@ai-sdk/anthropic';

async function main() {
  console.log('ğŸ¤– Ğ—Ğ°Ğ¿Ğ¸Ñ‚ÑƒÑ”Ğ¼Ğ¾ LLM...\n');
  
  const { text, usage } = await generateText({
    model: openai('gpt-4o-mini'), // Ğ°Ğ±Ğ¾ anthropic('claude-3-5-haiku-20241022')
    prompt: 'ĞŸÑ€Ğ¸Ğ²Ñ–Ñ‚! ĞŸĞ¾ÑÑĞ½Ğ¸ Ñ‰Ğ¾ Ñ‚Ğ°ĞºĞµ LLM Ğ¾Ğ´Ğ½Ğ¸Ğ¼ Ñ€ĞµÑ‡ĞµĞ½Ğ½ÑĞ¼ ÑƒĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ¾Ñ.',
  });
  
  console.log('ğŸ“ Ğ’Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ:', text);
  console.log('\nğŸ“Š Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ¾ Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ²:', usage);
}

main().catch(console.error);
```

Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ñ–Ñ‚ÑŒ:

```bash
npx tsx hello.ts
```

## ğŸ“Š ĞÑ‡Ñ–ĞºÑƒĞ²Ğ°Ğ½Ğ¸Ğ¹ Ğ²Ğ¸Ğ²Ñ–Ğ´

```
ğŸ¤– Ğ—Ğ°Ğ¿Ğ¸Ñ‚ÑƒÑ”Ğ¼Ğ¾ LLM...

ğŸ“ Ğ’Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ: LLM (Large Language Model) â€” Ñ†Ğµ ÑˆÑ‚ÑƒÑ‡Ğ½Ğ¸Ğ¹ Ñ–Ğ½Ñ‚ĞµĞ»ĞµĞºÑ‚, 
Ğ½Ğ°Ğ²Ñ‡ĞµĞ½Ğ¸Ğ¹ Ğ½Ğ° Ğ²ĞµĞ»Ğ¸Ñ‡ĞµĞ·Ğ½Ğ¸Ñ… Ğ¾Ğ±ÑÑĞ³Ğ°Ñ… Ñ‚ĞµĞºÑÑ‚Ñƒ, ÑĞºĞ¸Ğ¹ Ğ¼Ğ¾Ğ¶Ğµ Ğ³ĞµĞ½ĞµÑ€ÑƒĞ²Ğ°Ñ‚Ğ¸, 
Ñ€Ğ¾Ğ·ÑƒĞ¼Ñ–Ñ‚Ğ¸ Ñ‚Ğ° Ğ¿ĞµÑ€ĞµÑ‚Ğ²Ğ¾Ñ€ÑĞ²Ğ°Ñ‚Ğ¸ Ğ»ÑĞ´ÑÑŒĞºÑƒ Ğ¼Ğ¾Ğ²Ñƒ.

ğŸ“Š Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ¾ Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ²: { promptTokens: 24, completionTokens: 47, totalTokens: 71 }
```

## âŒ Troubleshooting: Ğ¢Ğ¸Ğ¿Ğ¾Ğ²Ñ– Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸ Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞºÑƒ

### ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ°: `OPENAI_API_KEY is not set`

```
Error: OPENAI_API_KEY is not set
```

**Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ:**
```bash
# ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ñ‚Ğµ Ñ‰Ğ¾ .env ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ¾
cat .env

# Ğ”Ğ»Ñ Windows PowerShell
$env:OPENAI_API_KEY="sk-your-key"

# Ğ”Ğ»Ñ Linux/Mac
export OPENAI_API_KEY="sk-your-key"

# ĞĞ±Ğ¾ Ğ²ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ñ–Ñ‚ÑŒ dotenv
npm install dotenv
```

```typescript
// Ğ”Ğ¾Ğ´Ğ°Ğ¹Ñ‚Ğµ Ğ½Ğ° Ğ¿Ğ¾Ñ‡Ğ°Ñ‚ĞºÑƒ Ñ„Ğ°Ğ¹Ğ»Ñƒ
import 'dotenv/config';
```

### ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ°: `401 Unauthorized`

```
Error: 401 Incorrect API key provided
```

**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°:** ĞĞµĞ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¸Ğ¹ Ğ°Ğ±Ğ¾ Ğ¿Ñ€Ğ¾ÑÑ‚Ñ€Ğ¾Ñ‡ĞµĞ½Ğ¸Ğ¹ API ĞºĞ»ÑÑ‡.

**Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ:**
1. ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ñ‚Ğµ ĞºĞ»ÑÑ‡ Ñƒ ĞºĞ¾Ğ½ÑĞ¾Ğ»Ñ– Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ğ°
2. ĞŸĞµÑ€ĞµĞºĞ¾Ğ½Ğ°Ğ¹Ñ‚ĞµÑÑŒ Ñ‰Ğ¾ Ğ½ĞµĞ¼Ğ°Ñ” Ğ·Ğ°Ğ¹Ğ²Ğ¸Ñ… Ğ¿Ñ€Ğ¾Ğ±Ñ–Ğ»Ñ–Ğ²
3. ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ñ‚Ğµ Ñ‡Ğ¸ Ñ” Ğ±Ğ°Ğ»Ğ°Ğ½Ñ Ğ½Ğ° Ğ°ĞºĞ°ÑƒĞ½Ñ‚Ñ–

### ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ°: `429 Rate limit exceeded`

```
Error: 429 Rate limit exceeded
```

**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°:** Ğ—Ğ°Ğ½Ğ°Ğ´Ñ‚Ğ¾ Ğ±Ğ°Ğ³Ğ°Ñ‚Ğ¾ Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñ–Ğ².

**Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ:** ĞŸĞ¾Ñ‡ĞµĞºĞ°Ğ¹Ñ‚Ğµ 60 ÑĞµĞºÑƒĞ½Ğ´ Ğ°Ğ±Ğ¾ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ¹Ñ‚Ğµ Ñ–Ğ½ÑˆĞ¸Ğ¹ API ĞºĞ»ÑÑ‡.

### ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ°: `ENOTFOUND api.openai.com`

```
Error: getaddrinfo ENOTFOUND api.openai.com
```

**ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°:** ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ¸ Ğ· Ğ¼ĞµÑ€ĞµĞ¶ĞµÑ Ğ°Ğ±Ğ¾ VPN.

**Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ:** ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ñ‚Ğµ Ñ–Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚-Ğ·'Ñ”Ğ´Ğ½Ğ°Ğ½Ğ½Ñ Ğ°Ğ±Ğ¾ Ğ²Ğ¸Ğ¼ĞºĞ½Ñ–Ñ‚ÑŒ/ÑƒĞ²Ñ–Ğ¼ĞºĞ½Ñ–Ñ‚ÑŒ VPN.

---

## âœ… Ğ§ĞµĞºĞ»Ñ–ÑÑ‚ Quick Start

- [ ] Node.js v18+ Ğ²ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾
- [ ] ĞŸÑ€Ğ¾ĞµĞºÑ‚ ÑÑ‚Ğ²Ğ¾Ñ€ĞµĞ½Ğ¾
- [ ] AI SDK Ğ²ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾
- [ ] API ĞºĞ»ÑÑ‡ Ğ¾Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ğ½Ğ¾ Ñ‚Ğ° Ğ·Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ¾ Ğ² `.env`
- [ ] Hello World Ğ¿Ñ€Ğ°Ñ†ÑÑ”
- [ ] Ğ‘Ğ°Ñ‡Ñƒ ĞºÑ–Ğ»ÑŒĞºÑ–ÑÑ‚ÑŒ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ¸Ñ… Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ²

> ğŸ‰ **Ğ’Ñ–Ñ‚Ğ°Ñ!** Ğ’Ğ¸ Ñ‰Ğ¾Ğ¹Ğ½Ğ¾ Ğ·Ñ€Ğ¾Ğ±Ğ¸Ğ»Ğ¸ ÑĞ²Ñ–Ğ¹ Ğ¿ĞµÑ€ÑˆĞ¸Ğ¹ API Ğ·Ğ°Ğ¿Ğ¸Ñ‚ Ğ´Ğ¾ LLM. Ğ¢ĞµĞ¿ĞµÑ€ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ğ´Ğ¾ Ñ‚ĞµĞ¾Ñ€Ñ–Ñ—.

---

# ĞœĞ¾Ğ´ÑƒĞ»ÑŒ 1: Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ– ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ†Ñ–Ñ—

> ğŸ¯ **ĞœĞµÑ‚Ğ° Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ:** Ğ—Ñ€Ğ¾Ğ·ÑƒĞ¼Ñ–Ñ‚Ğ¸ ÑĞº Ğ¿Ñ€Ğ°Ñ†ÑÑÑ‚ÑŒ LLM Ğ½Ğ° ĞºĞ¾Ğ½Ñ†ĞµĞ¿Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼Ñƒ Ñ€Ñ–Ğ²Ğ½Ñ– Ñ‚Ğ° Ğ½Ğ°Ğ²Ñ‡Ğ¸Ñ‚Ğ¸ÑÑŒ Ğ¾Ñ†Ñ–Ğ½ÑĞ²Ğ°Ñ‚Ğ¸ Ğ²Ğ°Ñ€Ñ‚Ñ–ÑÑ‚ÑŒ Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñ–Ğ².

## 1.1 Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ LLM Ñ– Ñ‡Ğ¾Ğ¼Ñƒ Ñ†Ğµ Ğ²Ğ°Ğ¶Ğ»Ğ¸Ğ²Ğ¾ Ğ´Ğ»Ñ Ñ€Ğ¾Ğ·Ñ€Ğ¾Ğ±Ğ½Ğ¸ĞºÑ–Ğ²?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LLM (Large Language Model)               â”‚
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚   â”‚  Input  â”‚ â”€â”€â”€â–¶ â”‚   Neural     â”‚ â”€â”€â”€â–¶ â”‚ Output  â”‚       â”‚
â”‚   â”‚ (Tokens)â”‚      â”‚   Network    â”‚      â”‚ (Tokens)â”‚       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚ (Transformer)â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                                                             â”‚
â”‚   ğŸ“Š ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¸: 8B - 1.8T                                   â”‚
â”‚   ğŸ“š ĞĞ°Ğ²Ñ‡ĞµĞ½Ğ¾ Ğ½Ğ°: Ñ‚Ñ€Ğ¸Ğ»ÑŒĞ¹Ğ¾Ğ½Ğ°Ñ… Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ² Ñ‚ĞµĞºÑÑ‚Ñƒ                 â”‚
â”‚   ğŸ¯ Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ°: Ğ¿ĞµÑ€ĞµĞ´Ğ±Ğ°Ñ‡Ğ¸Ñ‚Ğ¸ Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ğ¹ Ñ‚Ğ¾ĞºĞµĞ½                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Ğ§Ğ¾Ğ¼Ñƒ LLM Ğ²Ğ°Ğ¶Ğ»Ğ¸Ğ²Ñ– Ğ´Ğ»Ñ Ñ€Ğ¾Ğ·Ñ€Ğ¾Ğ±Ğ½Ğ¸ĞºÑ–Ğ² Ñƒ 2026:**

| Ğ”Ğ¾ LLM | Ğ— LLM |
|--------|-------|
| ĞŸĞ¸ÑĞ°Ñ‚Ğ¸ regex Ğ´Ğ»Ñ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³Ñƒ | `"Ğ’Ğ¸Ñ‚ÑĞ³Ğ½Ğ¸ email Ğ· Ñ‚ĞµĞºÑÑ‚Ñƒ"` |
| Ğ¡Ñ‚Ğ²Ğ¾Ñ€ÑĞ²Ğ°Ñ‚Ğ¸ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ²Ñ€ÑƒÑ‡Ğ½Ñƒ | `"ĞšĞ»Ğ°ÑĞ¸Ñ„Ñ–ĞºÑƒĞ¹ ÑĞºĞ°Ñ€Ğ³Ñƒ ĞºĞ»Ñ–Ñ”Ğ½Ñ‚Ğ°"` |
| ĞĞ°Ğ¹Ğ¼Ğ°Ñ‚Ğ¸ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ Ğ¿ĞµÑ€ĞµĞºĞ»Ğ°Ğ´Ğ°Ñ‡Ñ–Ğ² | `"ĞŸĞµÑ€ĞµĞºĞ»Ğ°Ğ´Ğ¸ Ğ½Ğ° 5 Ğ¼Ğ¾Ğ²"` |
| Ğ¢Ğ¸Ğ¶Ğ½Ñ– Ğ½Ğ° Ğ°Ğ½Ğ°Ğ»Ñ–Ğ· Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ñ–Ğ² | Ğ¥Ğ²Ğ¸Ğ»Ğ¸Ğ½Ğ¸ Ğ· RAG |

## 1.2 Ğ¢Ğ¾ĞºĞµĞ½Ğ¸: Ğ¾Ğ´Ğ¸Ğ½Ğ¸Ñ†Ñ Ğ²Ğ¸Ğ¼Ñ–Ñ€ÑĞ²Ğ°Ğ½Ğ½Ñ LLM

> ğŸ’¡ **Ğ¢Ğ¾ĞºĞµĞ½** â€” Ñ†Ğµ Ñ‡Ğ°ÑÑ‚Ğ¸Ğ½Ğ° ÑĞ»Ğ¾Ğ²Ğ° Ğ°Ğ±Ğ¾ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ñƒ. ĞŸÑ€Ğ¸Ğ±Ğ»Ğ¸Ğ·Ğ½Ğ¾ 1 Ñ‚Ğ¾ĞºĞµĞ½ â‰ˆ 4 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¸ Ğ°Ğ½Ğ³Ğ»Ñ–Ğ¹ÑÑŒĞºĞ¾Ñ Ğ°Ğ±Ğ¾ â‰ˆ 1-2 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¸ ÑƒĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ¾Ñ.

### Ğ’Ñ–Ğ·ÑƒĞ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ·Ğ°Ñ†Ñ–Ñ—

**ĞĞ½Ğ³Ğ»Ñ–Ğ¹ÑÑŒĞºĞ° Ğ¼Ğ¾Ğ²Ğ°:**
```
"Hello, world!" â†’ ["Hello", ",", " world", "!"] â†’ 4 Ñ‚Ğ¾ĞºĞµĞ½Ğ¸
```

**Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ° Ğ¼Ğ¾Ğ²Ğ°** (Ğ±Ñ–Ğ»ÑŒÑˆĞµ Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ² Ñ‡ĞµÑ€ĞµĞ· ĞºĞ¸Ñ€Ğ¸Ğ»Ğ¸Ñ†Ñ):
```
"ĞŸÑ€Ğ¸Ğ²Ñ–Ñ‚, ÑĞ²Ñ–Ñ‚Ğµ!" â†’ ["ĞŸÑ€Ğ¸Ğ²", "Ñ–Ñ‚", ",", " ÑĞ²", "Ñ–Ñ‚", "Ğµ", "!"] â†’ 7 Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ²
```

### ğŸ§ª ĞŸÑ€Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ğ¸Ğ¹ ĞµĞºÑĞ¿ĞµÑ€Ğ¸Ğ¼ĞµĞ½Ñ‚: Ğ¿Ğ¾Ñ€Ñ–Ğ²Ğ½ÑĞ½Ğ½Ñ Ğ¼Ğ¾Ğ²

```typescript
// token-comparison.ts
import { openai } from '@ai-sdk/openai';
import { generateText } from 'ai';

async function compareTokens() {
  const english = "The quick brown fox jumps over the lazy dog.";
  const ukrainian = "Ğ–Ğ¾Ğ²Ñ‚Ğ¸Ğ¹ Ğ±Ğ»Ğ¸ÑĞºÑƒÑ‡Ğ¸Ğ¹ Ğ»Ğ¸Ñ Ğ¿ĞµÑ€ĞµÑÑ‚Ñ€Ğ¸Ğ±ÑƒÑ” Ñ‡ĞµÑ€ĞµĞ· Ğ»Ñ–Ğ½Ğ¸Ğ²Ğ¾Ğ³Ğ¾ ÑĞ¾Ğ±Ğ°ĞºÑƒ.";
  
  // Ğ¤ÑƒĞ½ĞºÑ†Ñ–Ñ Ğ´Ğ»Ñ Ğ¿Ñ–Ğ´Ñ€Ğ°Ñ…ÑƒĞ½ĞºÑƒ (Ğ¿Ñ€Ğ¸Ğ±Ğ»Ğ¸Ğ·Ğ½Ğ¾)
  const estimateTokens = (text: string) => Math.ceil(text.length / 3);
  
  console.log('ğŸ“Š ĞŸĞ¾Ñ€Ñ–Ğ²Ğ½ÑĞ½Ğ½Ñ Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ·Ğ°Ñ†Ñ–Ñ—:\n');
  console.log(`ğŸ‡¬ğŸ‡§ English: "${english}"`);
  console.log(`   Ğ¡Ğ¸Ğ¼Ğ²Ğ¾Ğ»Ñ–Ğ²: ${english.length}, ~Ğ¢Ğ¾ĞºĞµĞ½Ñ–Ğ²: ${estimateTokens(english)}`);
  console.log();
  console.log(`ğŸ‡ºğŸ‡¦ Ukrainian: "${ukrainian}"`);
  console.log(`   Ğ¡Ğ¸Ğ¼Ğ²Ğ¾Ğ»Ñ–Ğ²: ${ukrainian.length}, ~Ğ¢Ğ¾ĞºĞµĞ½Ñ–Ğ²: ${estimateTokens(ukrainian)}`);
  console.log();
  console.log('ğŸ’¡ Ğ’Ğ¸ÑĞ½Ğ¾Ğ²Ğ¾Ğº: ÑƒĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ° ĞºĞ¾ÑˆÑ‚ÑƒÑ” ~40-60% Ğ´Ğ¾Ñ€Ğ¾Ğ¶Ñ‡Ğµ Ğ·Ğ° Ğ°Ğ½Ğ³Ğ»Ñ–Ğ¹ÑÑŒĞºÑƒ');
}

compareTokens();
```

**Ğ’Ğ¸Ğ²Ñ–Ğ´:**
```
ğŸ“Š ĞŸĞ¾Ñ€Ñ–Ğ²Ğ½ÑĞ½Ğ½Ñ Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ·Ğ°Ñ†Ñ–Ñ—:

ğŸ‡¬ğŸ‡§ English: "The quick brown fox jumps over the lazy dog."
   Ğ¡Ğ¸Ğ¼Ğ²Ğ¾Ğ»Ñ–Ğ²: 44, ~Ğ¢Ğ¾ĞºĞµĞ½Ñ–Ğ²: 15

ğŸ‡ºğŸ‡¦ Ukrainian: "Ğ–Ğ¾Ğ²Ñ‚Ğ¸Ğ¹ Ğ±Ğ»Ğ¸ÑĞºÑƒÑ‡Ğ¸Ğ¹ Ğ»Ğ¸Ñ Ğ¿ĞµÑ€ĞµÑÑ‚Ñ€Ğ¸Ğ±ÑƒÑ” Ñ‡ĞµÑ€ĞµĞ· Ğ»Ñ–Ğ½Ğ¸Ğ²Ğ¾Ğ³Ğ¾ ÑĞ¾Ğ±Ğ°ĞºÑƒ."
   Ğ¡Ğ¸Ğ¼Ğ²Ğ¾Ğ»Ñ–Ğ²: 56, ~Ğ¢Ğ¾ĞºĞµĞ½Ñ–Ğ²: 19

ğŸ’¡ Ğ’Ğ¸ÑĞ½Ğ¾Ğ²Ğ¾Ğº: ÑƒĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ° ĞºĞ¾ÑˆÑ‚ÑƒÑ” ~40-60% Ğ´Ğ¾Ñ€Ğ¾Ğ¶Ñ‡Ğµ Ğ·Ğ° Ğ°Ğ½Ğ³Ğ»Ñ–Ğ¹ÑÑŒĞºÑƒ
```

### ğŸ“Š Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ Ñ†Ñ–Ğ½ Ğ¾ÑĞ½Ğ¾Ğ²Ğ½Ğ¸Ñ… Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹ (ÑÑ‚Ğ°Ğ½Ğ¾Ğ¼ Ğ½Ğ° 2026)

| ĞœĞ¾Ğ´ĞµĞ»ÑŒ | Input (Ğ·Ğ° 1M Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ²) | Output (Ğ·Ğ° 1M Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ²) | Context Window |
|--------|----------------------|------------------------|----------------|
| **GPT-4o** | $2.50 | $10.00 | 128K |
| **GPT-4o-mini** | $0.15 | $0.60 | 128K |
| **Claude 3.5 Sonnet** | $3.00 | $15.00 | 200K |
| **Claude 3.5 Haiku** | $0.80 | $4.00 | 200K |
| **Gemini 1.5 Pro** | $1.25 | $5.00 | 2M |
| **Gemini 1.5 Flash** | $0.075 | $0.30 | 1M |

> âš ï¸ **ĞŸĞ¾Ñ€Ğ°Ğ´Ğ°:** Ğ”Ğ»Ñ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾Ñ‚Ğ¸Ğ¿Ñ–Ğ² Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ¹Ñ‚Ğµ Ğ´ĞµÑˆĞµĞ²Ñ– Ğ¼Ğ¾Ğ´ĞµĞ»Ñ– (GPT-4o-mini, Haiku, Flash). ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´ÑŒÑ‚Ğµ Ğ½Ğ° Ğ¿Ğ¾Ñ‚ÑƒĞ¶Ğ½Ñ–ÑˆÑ– Ñ‚Ñ–Ğ»ÑŒĞºĞ¸ ĞºĞ¾Ğ»Ğ¸ Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ° ÑĞºÑ–ÑÑ‚ÑŒ.

## 1.3 Context Window: Ğ¿Ğ°Ğ¼'ÑÑ‚ÑŒ Ğ¼Ğ¾Ğ´ĞµĞ»Ñ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Context Window (128K tokens)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚  System Prompt   â”‚ â† Ğ†Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ñ–Ñ— Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ´ĞµĞ»Ñ– (500-2000 Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ²)â”‚
â”‚  â”‚  (ÑĞº Ğ¿Ğ¾Ğ²Ğ¾Ğ´Ğ¸Ñ‚Ğ¸ÑÑŒ) â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚           â”‚                                                      â”‚
â”‚           â–¼                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚  Few-shot        â”‚ â† ĞŸÑ€Ğ¸ĞºĞ»Ğ°Ğ´Ğ¸ Ğ±Ğ°Ğ¶Ğ°Ğ½Ğ¾Ñ— Ğ¿Ğ¾Ğ²ĞµĞ´Ñ–Ğ½ĞºĞ¸ (0-5000)     â”‚
â”‚  â”‚  Examples        â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚           â”‚                                                      â”‚
â”‚           â–¼                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚  Retrieved       â”‚ â† Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¸ Ğ· RAG (1000-50000 Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ²)    â”‚
â”‚  â”‚  Documents       â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚           â”‚                                                      â”‚
â”‚           â–¼                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚  Conversation    â”‚ â† Ğ†ÑÑ‚Ğ¾Ñ€Ñ–Ñ Ñ‡Ğ°Ñ‚Ñƒ (Ñ€Ğ¾ÑÑ‚Ğµ Ğ· Ñ‡Ğ°ÑĞ¾Ğ¼)            â”‚
â”‚  â”‚  History         â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚           â”‚                                                      â”‚
â”‚           â–¼                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚  Current User    â”‚ â† ĞŸĞ¾Ñ‚Ğ¾Ñ‡Ğ½Ğµ Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ğ°             â”‚
â”‚  â”‚  Message         â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚                                                                  â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚  â–² Ğ£Ğ’ĞĞ“Ğ: Ğ¯ĞºÑ‰Ğ¾ ÑÑƒĞ¼Ğ° Ğ¿ĞµÑ€ĞµĞ²Ğ¸Ñ‰ÑƒÑ” context window â†’ ĞŸĞĞœĞ˜Ğ›ĞšĞ!         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞšĞ¾Ğ»Ğ¸ context window ÑÑ‚Ğ°Ñ” Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ¾Ñ?

```typescript
// ĞŸÑ€Ğ¸ĞºĞ»Ğ°Ğ´: Ñ‡Ğ°Ñ‚-Ğ±Ğ¾Ñ‚, ÑĞºĞ¸Ğ¹ "Ğ·Ğ°Ğ±ÑƒĞ²Ğ°Ñ”" ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚
const messages = [
  { role: 'user', content: 'ĞœĞµĞ½Ğµ Ğ·Ğ²Ğ°Ñ‚Ğ¸ ĞĞ»ĞµĞºÑĞ°Ğ½Ğ´Ñ€' },
  { role: 'assistant', content: 'ĞŸÑ€Ğ¸Ñ”Ğ¼Ğ½Ğ¾ Ğ¿Ğ¾Ğ·Ğ½Ğ°Ğ¹Ğ¾Ğ¼Ğ¸Ñ‚Ğ¸ÑÑŒ, ĞĞ»ĞµĞºÑĞ°Ğ½Ğ´Ñ€Ğµ!' },
  // ... 500 Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ Ğ¿Ñ–Ğ·Ğ½Ñ–ÑˆĞµ ...
  { role: 'user', content: 'Ğ¯Ğº Ğ¼ĞµĞ½Ğµ Ğ·Ğ²Ğ°Ñ‚Ğ¸?' },
  { role: 'assistant', content: 'Ğ’Ğ¸Ğ±Ğ°Ñ‡Ñ‚Ğµ, Ñ Ğ½Ğµ Ğ·Ğ½Ğ°Ñ Ğ²Ğ°ÑˆĞ¾Ğ³Ğ¾ Ñ–Ğ¼ĞµĞ½Ñ–.' } // ğŸ˜±
];
```

**Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ:** Ğ¡Ñ‚Ñ€Ğ°Ñ‚ĞµĞ³Ñ–Ñ— ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»Ñ–Ğ½Ğ½Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ¼ (Ğ´Ğ¸Ğ². ĞœĞ¾Ğ´ÑƒĞ»ÑŒ 4: AI ĞĞ³ĞµĞ½Ñ‚Ğ¸, ÑĞµĞºÑ†Ñ–Ñ Memory).

## 1.4 Ğ¢ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ° Ñ‚Ğ° Ñ–Ğ½ÑˆÑ– Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¸

```
Temperature: 0.0                    Temperature: 1.0
     â”‚                                   â”‚
     â–¼                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Ğ”ĞµÑ‚ĞµÑ€Ğ¼Ñ–Ğ½Ğ¾â”‚                        â”‚ĞšÑ€ĞµĞ°Ñ‚Ğ¸Ğ²Ğ½Ğ¾â”‚
â”‚Ğ²Ğ°Ğ½Ğ¸Ğ¹    â”‚                        â”‚         â”‚
â”‚         â”‚                        â”‚         â”‚
â”‚"Ğ¡Ñ‚Ğ¾Ğ»Ğ¸Ñ†Ñ â”‚                        â”‚"Ğ¡ĞµÑ€Ñ†Ğµ   â”‚
â”‚ Ğ£ĞºÑ€Ğ°Ñ—Ğ½Ğ¸ â”‚                        â”‚ Ğ£ĞºÑ€Ğ°Ñ—Ğ½Ğ¸ â”‚
â”‚ â€” ĞšĞ¸Ñ—Ğ²."â”‚                        â”‚ Ğ±'Ñ”Ñ‚ÑŒÑÑ â”‚
â”‚         â”‚                        â”‚ Ñƒ ĞšĞ¸Ñ”Ğ²Ñ– â”‚
â”‚         â”‚                        â”‚ ..."    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
   Ğ¤Ğ°ĞºÑ‚Ğ¸                           Ğ¢Ğ²Ğ¾Ñ€Ñ‡Ñ–ÑÑ‚ÑŒ
```

| ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€ | Ğ©Ğ¾ Ñ€Ğ¾Ğ±Ğ¸Ñ‚ÑŒ | Ğ¢Ğ¸Ğ¿Ğ¾Ğ²Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ½Ñ | ĞšĞ¾Ğ»Ğ¸ Ğ·Ğ¼Ñ–Ğ½ÑĞ²Ğ°Ñ‚Ğ¸ |
|----------|-----------|-----------------|----------------|
| `temperature` | Ğ’Ğ¸Ğ¿Ğ°Ğ´ĞºĞ¾Ğ²Ñ–ÑÑ‚ÑŒ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ñ– | 0.7 | 0 Ğ´Ğ»Ñ Ñ„Ğ°ĞºÑ‚Ñ–Ğ², 1+ Ğ´Ğ»Ñ Ñ‚Ğ²Ğ¾Ñ€Ñ‡Ğ¾ÑÑ‚Ñ– |
| `maxTokens` | ĞœĞ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ² Ñƒ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ñ– | 1000-4000 | Ğ—Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ Ğ²Ñ–Ğ´ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñ– |
| `topP` | Ğ¯Ğ´ĞµÑ€Ğ½Ğ° Ğ²Ğ¸Ğ±Ñ–Ñ€ĞºĞ° | 1.0 | Ğ Ñ–Ğ´ĞºĞ¾ Ğ·Ğ¼Ñ–Ğ½ÑÑÑ‚ÑŒ |
| `frequencyPenalty` | Ğ¨Ñ‚Ñ€Ğ°Ñ„ Ğ·Ğ° Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ĞµĞ½Ğ½Ñ | 0 | 0.5+ ÑĞºÑ‰Ğ¾ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ÑÑ”Ñ‚ÑŒÑÑ |
| `presencePenalty` | Ğ¨Ñ‚Ñ€Ğ°Ñ„ Ğ·Ğ° Ğ²Ğ¶Ğµ Ğ·Ğ³Ğ°Ğ´Ğ°Ğ½Ñ– Ñ‚ĞµĞ¼Ğ¸ | 0 | 0.5+ Ğ´Ğ»Ñ Ñ€Ñ–Ğ·Ğ½Ğ¾Ğ¼Ğ°Ğ½Ñ–Ñ‚Ğ½Ğ¾ÑÑ‚Ñ– |

### ğŸ¯ Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ñ–Ñ— Ğ¿Ğ¾ temperature

```typescript
// âŒ ĞĞ•ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ: temperature 1.0 Ğ´Ğ»Ñ Ñ„Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ğ¸Ñ… Ğ´Ğ°Ğ½Ğ¸Ñ…
const { text } = await generateText({
  model: openai('gpt-4o'),
  temperature: 1.0, // ĞœĞ¾Ğ´ĞµĞ»ÑŒ Ğ±ÑƒĞ´Ğµ "Ñ„Ğ°Ğ½Ñ‚Ğ°Ğ·ÑƒĞ²Ğ°Ñ‚Ğ¸"
  prompt: 'Ğ¯ĞºĞ° ÑÑ‚Ğ¾Ğ»Ğ¸Ñ†Ñ Ğ¯Ğ¿Ğ¾Ğ½Ñ–Ñ—?'
});

// âœ… ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ: temperature 0 Ğ´Ğ»Ñ Ñ„Ğ°ĞºÑ‚Ñ–Ğ²
const { text } = await generateText({
  model: openai('gpt-4o'),
  temperature: 0,
  prompt: 'Ğ¯ĞºĞ° ÑÑ‚Ğ¾Ğ»Ğ¸Ñ†Ñ Ğ¯Ğ¿Ğ¾Ğ½Ñ–Ñ—?'
});

// âœ… ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ: temperature 0.8-1.0 Ğ´Ğ»Ñ Ñ‚Ğ²Ğ¾Ñ€Ñ‡Ğ¾ÑÑ‚Ñ–
const { text } = await generateText({
  model: openai('gpt-4o'),
  temperature: 0.9,
  prompt: 'ĞĞ°Ğ¿Ğ¸ÑˆĞ¸ Ğ²Ñ–Ñ€Ñˆ Ğ¿Ñ€Ğ¾ ĞšĞ¸Ñ—Ğ²'
});
```

## ğŸ¤” ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ ÑĞµĞ±Ğµ

1. Ğ§Ğ¾Ğ¼Ñƒ ÑƒĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ° Ğ¼Ğ¾Ğ²Ğ° "Ğ´Ğ¾Ñ€Ğ¾Ğ¶Ñ‡Ğ°" Ğ·Ğ° Ğ°Ğ½Ğ³Ğ»Ñ–Ğ¹ÑÑŒĞºÑƒ Ğ¿Ñ€Ğ¸ Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ñ– Ğ· LLM?
2. Ğ©Ğ¾ ÑÑ‚Ğ°Ğ½ĞµÑ‚ÑŒÑÑ, ÑĞºÑ‰Ğ¾ ÑÑƒĞ¼Ğ° Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ² Ğ¿ĞµÑ€ĞµĞ²Ğ¸Ñ‰Ğ¸Ñ‚ÑŒ context window?
3. Ğ¯ĞºÑƒ temperature Ğ²Ğ¸ Ğ± Ğ¾Ğ±Ñ€Ğ°Ğ»Ğ¸ Ğ´Ğ»Ñ Ñ‡Ğ°Ñ‚-Ğ±Ğ¾Ñ‚Ğ° ÑĞ»ÑƒĞ¶Ğ±Ğ¸ Ğ¿Ñ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ĞºĞ¸?

<details>
<summary>ğŸ“ Ğ’Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ñ–</summary>

1. ĞšĞ¸Ñ€Ğ¸Ğ»Ğ¸Ñ†Ñ Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ·ÑƒÑ”Ñ‚ÑŒÑÑ Ğ¼ĞµĞ½Ñˆ ĞµÑ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ â€” ĞºĞ¾Ğ¶Ğ½Ğ° Ğ»Ñ–Ñ‚ĞµÑ€Ğ° Ñ‡Ğ°ÑÑ‚Ğ¾ ÑÑ‚Ğ°Ñ” Ğ¾ĞºÑ€ĞµĞ¼Ğ¸Ğ¼ Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ¼, Ñ‚Ğ¾Ğ´Ñ– ÑĞº Ğ°Ğ½Ğ³Ğ»Ñ–Ğ¹ÑÑŒĞºÑ– ÑĞ»Ğ¾Ğ²Ğ° Ğ·Ğ°Ğ·Ğ²Ğ¸Ñ‡Ğ°Ğ¹ ÑÑ‚Ğ¸ÑĞºĞ°ÑÑ‚ÑŒÑÑ Ğ´Ğ¾ 1-3 Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ².

2. API Ğ¿Ğ¾Ğ²ĞµÑ€Ğ½Ğµ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºÑƒ `context_length_exceeded`. ĞŸĞ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ¾ Ğ°Ğ±Ğ¾ ÑĞºĞ¾Ñ€Ğ¾Ñ‚Ğ¸Ñ‚Ğ¸ Ğ¿Ñ€Ğ¾Ğ¼Ğ¿Ñ‚, Ğ°Ğ±Ğ¾ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ñ‚Ğ¸ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ Ğ· Ğ±Ñ–Ğ»ÑŒÑˆĞ¸Ğ¼ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ¼.

3. Temperature 0-0.3. Ğ”Ğ»Ñ Ğ¿Ñ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ĞºĞ¸ Ğ²Ğ°Ğ¶Ğ»Ğ¸Ğ²Ğ° Ñ‚Ğ¾Ñ‡Ğ½Ñ–ÑÑ‚ÑŒ Ñ– Ğ¿ĞµÑ€ĞµĞ´Ğ±Ğ°Ñ‡ÑƒĞ²Ğ°Ğ½Ñ–ÑÑ‚ÑŒ, Ğ° Ğ½Ğµ ĞºÑ€ĞµĞ°Ñ‚Ğ¸Ğ²Ğ½Ñ–ÑÑ‚ÑŒ.
</details>

---

# ĞœĞ¾Ğ´ÑƒĞ»ÑŒ 2: Chat API Ğ½Ğ° Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ†Ñ–

> ğŸ¯ **ĞœĞµÑ‚Ğ° Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ:** ĞĞ°Ğ²Ñ‡Ğ¸Ñ‚Ğ¸ÑÑŒ ĞµÑ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ Chat API Ñ€Ñ–Ğ·Ğ½Ğ¸Ñ… Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ñ–Ğ² Ñ‡ĞµÑ€ĞµĞ· ÑƒĞ½Ñ–Ñ„Ñ–ĞºĞ¾Ğ²Ğ°Ğ½Ğ¸Ğ¹ Ñ–Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Vercel AI SDK.

## 2.1 Ğ§Ğ¾Ğ¼Ñƒ Vercel AI SDK?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Ğ‘ĞµĞ· AI SDK (Ğ±Ñ–Ğ»ÑŒ ğŸ˜«)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚   OpenAI API          Anthropic API        Google API         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚ format Aâ”‚         â”‚ format Bâ”‚         â”‚ format Câ”‚        â”‚
â”‚   â”‚ auth A  â”‚         â”‚ auth B  â”‚         â”‚ auth C  â”‚        â”‚
â”‚   â”‚ errors Aâ”‚         â”‚ errors Bâ”‚         â”‚ errors Câ”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚        â”‚                   â”‚                   â”‚              â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                            â–¼                                  â”‚
â”‚                   ğŸ˜« Ğ Ñ–Ğ·Ğ½Ğ¸Ğ¹ ĞºĞ¾Ğ´ Ğ´Ğ»Ñ ĞºĞ¾Ğ¶Ğ½Ğ¾Ğ³Ğ¾                   â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Ğ— AI SDK (Ñ€Ğ°Ğ´Ñ–ÑÑ‚ÑŒ ğŸ‰)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚   â”‚              Vercel AI SDK                       â”‚        â”‚
â”‚   â”‚         (Ğ¾Ğ´Ğ¸Ğ½ Ñ–Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ´Ğ»Ñ Ğ²ÑÑ–Ñ…)               â”‚        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚        â”‚              â”‚              â”‚                        â”‚
â”‚        â–¼              â–¼              â–¼                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚   â”‚ OpenAI  â”‚   â”‚Anthropicâ”‚   â”‚ Google  â”‚                    â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                               â”‚
â”‚   ğŸ‰ ĞĞ´Ğ¸Ğ½ ĞºĞ¾Ğ´ â†’ Ğ±ÑƒĞ´ÑŒ-ÑĞºĞ¸Ğ¹ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€                          â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ğ’ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ½Ñ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ñ–Ğ²

```bash
# ĞÑĞ½Ğ¾Ğ²Ğ½Ñ– Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ğ¸
npm install ai @ai-sdk/openai @ai-sdk/anthropic @ai-sdk/google

# ĞĞ¿Ñ†Ñ–Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾: Ğ´Ğ»Ñ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¸Ñ… Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹
npm install @ai-sdk/ollama
```

## 2.2 ĞÑĞ½Ğ¾Ğ²Ğ½Ñ– Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ— AI SDK

### generateText â€” Ğ¿Ñ€Ğ¾ÑÑ‚Ğ° Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ñ–Ñ

```typescript
// generate-text-example.ts
import { generateText } from 'ai';
import { openai } from '@ai-sdk/openai';

async function simpleGeneration() {
  const { text, usage, finishReason } = await generateText({
    model: openai('gpt-4o-mini'),
    prompt: 'ĞŸĞ¾ÑÑĞ½Ğ¸ async/await Ñƒ JavaScript Ğ´Ğ»Ñ Ğ½Ğ¾Ğ²Ğ°Ñ‡ĞºĞ°',
  });
  
  console.log('ğŸ“ Ğ’Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ:\n', text);
  console.log('\nğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°:', {
    Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ²_Ğ½Ğ°_Ğ²Ñ…Ñ–Ğ´: usage.promptTokens,
    Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ²_Ğ½Ğ°_Ğ²Ğ¸Ñ…Ñ–Ğ´: usage.completionTokens,
    Ğ¿Ñ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°_Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½Ñ: finishReason
  });
}

simpleGeneration();
```

**ğŸ“Š Ğ’Ğ¸Ğ²Ñ–Ğ´ ĞºĞ¾Ğ½ÑĞ¾Ğ»Ñ–:**
```
ğŸ“ Ğ’Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ:
 async/await â€” Ñ†Ğµ ÑĞ¿Ğ¾ÑÑ–Ğ± Ğ¿Ğ¸ÑĞ°Ñ‚Ğ¸ Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¸Ğ¹ ĞºĞ¾Ğ´ Ñ‚Ğ°Ğº, Ğ½Ñ–Ğ±Ğ¸ Ğ²Ñ–Ğ½ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ¸Ğ¹.

Ğ£ÑĞ²Ğ¸, Ñ‰Ğ¾ Ñ‚Ğ¸ Ğ·Ğ°Ğ¼Ğ¾Ğ²Ğ»ÑÑ”Ñˆ Ğ¿Ñ–Ñ†Ñƒ:
- Ğ‘ĞµĞ· async/await: "Ğ—Ğ°Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½ÑƒĞ¹, Ñ– Ğ¿Ğ¾ĞºĞ¸ Ñ‡ĞµĞºĞ°Ñ”Ñˆ â€” ÑÑ‚Ñ–Ğ¹ Ğ±Ñ–Ğ»Ñ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ñƒ"
- Ğ— async/await: "Ğ—Ğ°Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½ÑƒĞ¹, Ñ– Ğ¹Ğ´Ğ¸ Ñ€Ğ¾Ğ±Ğ¸Ñ‚Ğ¸ ÑĞ²Ğ¾Ñ— ÑĞ¿Ñ€Ğ°Ğ²Ğ¸. Ğ¢ĞµĞ±Ğµ Ğ¿Ğ¾ĞºĞ»Ğ¸Ñ‡ÑƒÑ‚ÑŒ ĞºĞ¾Ğ»Ğ¸ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ¾"

```javascript
// Ğ‘ĞµĞ· async/await (callback hell)
fetch('/api/user')
  .then(res => res.json())
  .then(user => {
    fetch(`/api/posts/${user.id}`)
      .then(res => res.json())
      .then(posts => console.log(posts))
  });

// Ğ— async/await (Ñ‡Ğ¸ÑÑ‚Ğ¾ Ñ– Ğ·Ñ€Ğ¾Ğ·ÑƒĞ¼Ñ–Ğ»Ğ¾)
async function getPosts() {
  const res = await fetch('/api/user');
  const user = await res.json();
  const postsRes = await fetch(`/api/posts/${user.id}`);
  const posts = await postsRes.json();
  console.log(posts);
}
```

ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°: { Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ²_Ğ½Ğ°_Ğ²Ñ…Ñ–Ğ´: 18, Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ²_Ğ½Ğ°_Ğ²Ğ¸Ñ…Ñ–Ğ´: 203, Ğ¿Ñ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°_Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ½Ñ: 'stop' }
```

ğŸ’¡ **ĞšĞ¾Ğ»Ğ¸ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸:** ĞŸÑ€Ğ¾ÑÑ‚Ñ– Ğ¾Ğ´Ğ½Ğ¾Ñ€Ğ°Ğ·Ğ¾Ğ²Ñ– Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ğ¸, Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ñ–Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚Ñƒ, Ğ¿ĞµÑ€ĞµĞºĞ»Ğ°Ğ´Ğ¸.

âš ï¸ **ĞŸÑ–Ğ´Ğ²Ğ¾Ğ´Ğ½Ñ– ĞºĞ°Ğ¼ĞµĞ½Ñ–:**
- Ğ§ĞµĞºĞ°Ñ” Ğ¿Ğ¾Ğ²Ğ½Ñƒ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ â€” Ğ´Ğ»Ñ Ğ´Ğ¾Ğ²Ğ³Ğ¸Ñ… Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ĞµĞ¹ ĞºÑ€Ğ°Ñ‰Ğµ streamText
- ĞĞµĞ¼Ğ°Ñ” retry Ğ¿Ğ¾ Ğ·Ğ°Ğ¼Ğ¾Ğ²Ñ‡ÑƒĞ²Ğ°Ğ½Ğ½Ñ â€” Ğ´Ğ¾Ğ´Ğ°Ğ¹Ñ‚Ğµ Ğ¾Ğ±Ñ€Ğ¾Ğ±ĞºÑƒ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº

### streamText â€” ÑÑ‚Ñ€Ñ–Ğ¼Ñ–Ğ½Ğ³ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ñ–

```typescript
// stream-text-example.ts
import { streamText } from 'ai';
import { anthropic } from '@ai-sdk/anthropic';

async function streamingGeneration() {
  console.log('ğŸ¤– ĞœĞ¾Ğ´ĞµĞ»ÑŒ Ğ´ÑƒĞ¼Ğ°Ñ”...\n');
  
  const { textStream, usage } = streamText({
    model: anthropic('claude-3-5-haiku-20241022'),
    prompt: 'Ğ Ğ¾Ğ·ĞºĞ°Ğ¶Ğ¸ ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºÑƒ Ñ–ÑÑ‚Ğ¾Ñ€Ñ–Ñ Ğ¿Ñ€Ğ¾ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ñ–ÑÑ‚Ğ°',
  });

  // Ğ’Ğ¸Ğ²Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ Ñ‚Ğ¾ĞºĞµĞ½ Ğ·Ğ° Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ¼
  process.stdout.write('ğŸ“– ');
  for await (const chunk of textStream) {
    process.stdout.write(chunk);
  }
  
  console.log('\n\nğŸ“Š Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ¾ Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ²:', await usage);
}

streamingGeneration();
```

**ğŸ“Š Ğ’Ğ¸Ğ²Ñ–Ğ´ ĞºĞ¾Ğ½ÑĞ¾Ğ»Ñ– (Ğ·'ÑĞ²Ğ»ÑÑ”Ñ‚ÑŒÑÑ Ğ¿Ğ¾ÑÑ‚ÑƒĞ¿Ğ¾Ğ²Ğ¾):**
```
ğŸ¤– ĞœĞ¾Ğ´ĞµĞ»ÑŒ Ğ´ÑƒĞ¼Ğ°Ñ”...

ğŸ“– ĞĞ»ĞµĞ³ Ğ¿Ñ€Ğ°Ñ†ÑĞ²Ğ°Ğ² Ğ´Ğ¾Ğ¿Ñ–Ğ·Ğ½Ğ°. Ğ—Ğ½Ğ¾Ğ²Ñƒ Ğ±Ğ°Ğ³ Ñƒ production.

"Ğ¦Ğµ Ğ½ĞµĞ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾," â€” Ğ´ÑƒĞ¼Ğ°Ğ² Ğ²Ñ–Ğ½, Ğ´Ğ¸Ğ²Ğ»ÑÑ‡Ğ¸ÑÑŒ Ğ½Ğ° Ğ»Ğ¾Ğ³Ğ¸.

Ğ Ñ‚Ñ€ĞµÑ‚Ñ–Ğ¹ Ğ½Ğ¾Ñ‡Ñ– Ğ²Ñ–Ğ½ Ğ·Ğ½Ğ°Ğ¹ÑˆĞ¾Ğ² Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñƒ: Ñ…Ñ‚Ğ¾ÑÑŒ Ğ·Ğ°ĞºĞ¾Ğ¼Ñ–Ñ‚Ğ¸Ğ² 
`if (true === false)`. 

ĞšĞ¾Ğ¼Ñ–Ñ‚ Ğ±ÑƒĞ² Ğ¹Ğ¾Ğ³Ğ¾. Ğ— Ğ¼Ğ¸Ğ½ÑƒĞ»Ğ¾Ñ— Ğ¿'ÑÑ‚Ğ½Ğ¸Ñ†Ñ–.

ĞĞ»ĞµĞ³ Ğ²Ğ¸Ğ¼ĞºĞ½ÑƒĞ² ĞºĞ¾Ğ¼Ğ¿'ÑÑ‚ĞµÑ€ Ñ– Ğ¿Ñ–ÑˆĞ¾Ğ² ÑĞ¿Ğ°Ñ‚Ğ¸.

ğŸ“Š Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ¾ Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ²: { promptTokens: 14, completionTokens: 89 }
```

ğŸ’¡ **ĞšĞ¾Ğ»Ğ¸ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸:** Ğ§Ğ°Ñ‚-Ğ±Ğ¾Ñ‚Ğ¸, Ñ–Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ– Ñ–Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ¸, Ğ´Ğ¾Ğ²Ğ³Ñ– Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ñ–.

âš ï¸ **ĞŸÑ–Ğ´Ğ²Ğ¾Ğ´Ğ½Ñ– ĞºĞ°Ğ¼ĞµĞ½Ñ–:**
- `usage` â€” Ñ†Ğµ Promise, Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±ĞµĞ½ `await`
- Ğ£ Next.js Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ¹Ñ‚Ğµ `toDataStreamResponse()`

### generateObject â€” ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¾Ğ²Ğ°Ğ½Ñ– Ğ´Ğ°Ğ½Ñ–

```typescript
// generate-object-example.ts
import { generateObject } from 'ai';
import { openai } from '@ai-sdk/openai';
import { z } from 'zod';

// Ğ¡Ñ…ĞµĞ¼Ğ° Ğ´Ğ°Ğ½Ğ¸Ñ…
const ProductReview = z.object({
  sentiment: z.enum(['positive', 'negative', 'neutral']),
  score: z.number().min(1).max(10),
  summary: z.string().max(100),
  keywords: z.array(z.string()).max(5),
  recommendation: z.boolean(),
});

async function analyzeReview() {
  const review = `
    ĞšÑƒĞ¿Ğ¸Ğ² Ñ†ĞµĞ¹ Ğ½Ğ¾ÑƒÑ‚Ğ±ÑƒĞº Ğ¼Ñ–ÑÑÑ†ÑŒ Ñ‚Ğ¾Ğ¼Ñƒ. Ğ•ĞºÑ€Ğ°Ğ½ Ñ‡ÑƒĞ´Ğ¾Ğ²Ğ¸Ğ¹, Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµÑ Ñ‚Ñ€Ğ¸Ğ¼Ğ°Ñ” 
    Ğ²ĞµÑÑŒ Ğ´ĞµĞ½ÑŒ. ĞĞ»Ğµ ĞºĞ»Ğ°Ğ²Ñ–Ğ°Ñ‚ÑƒÑ€Ğ° Ñ‚Ñ€Ğ¾Ñ…Ğ¸ Ğ½ĞµĞ·Ñ€ÑƒÑ‡Ğ½Ğ° Ğ´Ğ»Ñ Ğ´Ğ¾Ğ²Ğ³Ğ¾Ğ³Ğ¾ Ğ´Ñ€ÑƒĞºÑƒ. 
    Ğ—Ğ°Ğ³Ğ°Ğ»Ğ¾Ğ¼ Ğ·Ğ°Ğ´Ğ¾Ğ²Ğ¾Ğ»ĞµĞ½Ğ¸Ğ¹ Ğ¿Ğ¾ĞºÑƒĞ¿ĞºĞ¾Ñ, Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒÑ Ğ´Ğ»Ñ Ğ¾Ñ„Ñ–ÑĞ½Ğ¾Ñ— Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸.
  `;
  
  const { object, usage } = await generateObject({
    model: openai('gpt-4o-mini'),
    schema: ProductReview,
    prompt: `ĞŸÑ€Ğ¾Ğ°Ğ½Ğ°Ğ»Ñ–Ğ·ÑƒĞ¹ Ğ²Ñ–Ğ´Ğ³ÑƒĞº Ğ¿Ñ€Ğ¾ Ñ‚Ğ¾Ğ²Ğ°Ñ€:\n\n${review}`,
  });
  
  console.log('ğŸ“Š Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ°Ğ½Ğ°Ğ»Ñ–Ğ·Ñƒ:\n', JSON.stringify(object, null, 2));
  console.log('\nğŸ’° Ğ¢Ğ¾ĞºĞµĞ½Ñ–Ğ²:', usage.totalTokens);
}

analyzeReview();
```

**ğŸ“Š Ğ’Ğ¸Ğ²Ñ–Ğ´ ĞºĞ¾Ğ½ÑĞ¾Ğ»Ñ–:**
```json
ğŸ“Š Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ°Ğ½Ğ°Ğ»Ñ–Ğ·Ñƒ:
{
  "sentiment": "positive",
  "score": 8,
  "summary": "Ğ§ÑƒĞ´Ğ¾Ğ²Ğ¸Ğ¹ Ğ½Ğ¾ÑƒÑ‚Ğ±ÑƒĞº Ğ´Ğ»Ñ Ğ¾Ñ„Ñ–ÑĞ½Ğ¾Ñ— Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ¸ Ğ· Ğ²Ñ–Ğ´Ğ¼Ñ–Ğ½Ğ½Ğ¸Ğ¼ ĞµĞºÑ€Ğ°Ğ½Ğ¾Ğ¼ Ñ‚Ğ° Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµÑ”Ñ, Ğ½ĞµĞ·Ğ½Ğ°Ñ‡Ğ½Ñ– Ğ¼Ñ–Ğ½ÑƒÑĞ¸ ĞºĞ»Ğ°Ğ²Ñ–Ğ°Ñ‚ÑƒÑ€Ğ¸",
  "keywords": ["ĞµĞºÑ€Ğ°Ğ½", "Ğ±Ğ°Ñ‚Ğ°Ñ€ĞµÑ", "ĞºĞ»Ğ°Ğ²Ñ–Ğ°Ñ‚ÑƒÑ€Ğ°", "Ğ¾Ñ„Ñ–ÑĞ½Ğ° Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ°"],
  "recommendation": true
}

ğŸ’° Ğ¢Ğ¾ĞºĞµĞ½Ñ–Ğ²: 156
```

ğŸ’¡ **ĞšĞ¾Ğ»Ğ¸ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸:**
- ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ Ğ´Ğ°Ğ½Ğ¸Ñ… Ğ· Ñ‚ĞµĞºÑÑ‚Ñƒ
- ĞšĞ»Ğ°ÑĞ¸Ñ„Ñ–ĞºĞ°Ñ†Ñ–Ñ
- Ğ’Ğ¸Ñ‚ÑĞ³ÑƒĞ²Ğ°Ğ½Ğ½Ñ entities
- Ğ’Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ Ñ‚Ğ° ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ğ·Ğ°Ñ†Ñ–Ñ user input

âš ï¸ **ĞŸÑ–Ğ´Ğ²Ğ¾Ğ´Ğ½Ñ– ĞºĞ°Ğ¼ĞµĞ½Ñ–:**
- ĞœĞ¾Ğ´ĞµĞ»ÑŒ Ğ¼Ğ¾Ğ¶Ğµ "Ğ³Ğ°Ğ»ÑÑ†Ğ¸Ğ½ÑƒĞ²Ğ°Ñ‚Ğ¸" Ğ´Ğ°Ğ½Ñ– â€” Ğ·Ğ°Ğ²Ğ¶Ğ´Ğ¸ Ğ²Ğ°Ğ»Ñ–Ğ´ÑƒĞ¹Ñ‚Ğµ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ñ– Ğ¿Ğ¾Ğ»Ñ
- Ğ¡ĞºĞ»Ğ°Ğ´Ğ½Ñ– Ğ²ĞºĞ»Ğ°Ğ´ĞµĞ½Ñ– ÑÑ…ĞµĞ¼Ğ¸ Ğ·Ğ±Ñ–Ğ»ÑŒÑˆÑƒÑÑ‚ÑŒ ĞºÑ–Ğ»ÑŒĞºÑ–ÑÑ‚ÑŒ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº

## 2.3 ĞŸĞ¾Ñ€Ñ–Ğ²Ğ½ÑĞ½Ğ½Ñ Ğ¿Ñ–Ğ´Ñ…Ğ¾Ğ´Ñ–Ğ² Ğ´Ğ¾ Structured Outputs

| ĞŸÑ–Ğ´Ñ…Ñ–Ğ´ | Pros | Cons | ĞšĞ¾Ğ»Ğ¸ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ |
|--------|------|------|---------------------|
| **AI SDK `generateObject`** | Ğ„Ğ´Ğ¸Ğ½Ğ¸Ğ¹ Ñ–Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ, Zod Ğ²Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ, Ğ¿Ñ€Ğ°Ñ†ÑÑ” Ğ· ÑƒÑÑ–Ğ¼Ğ° Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ğ°Ğ¼Ğ¸ | ĞĞµ Ğ²ÑÑ– Ğ¼Ğ¾Ğ´ĞµĞ»Ñ– Ğ¿Ñ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ÑƒÑÑ‚ÑŒ native JSON mode | Ğ£Ğ½Ñ–Ğ²ĞµÑ€ÑĞ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ğ²Ğ¸Ğ±Ñ–Ñ€ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñ–Ğ² |
| **OpenAI `response_format: json_schema`** | 100% Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ñ–Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸, native Ğ¿Ñ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ĞºĞ° | Ğ¢Ñ–Ğ»ÑŒĞºĞ¸ OpenAI, ÑĞºĞ»Ğ°Ğ´Ğ½Ñ–ÑˆĞ¸Ğ¹ ÑĞ¸Ğ½Ñ‚Ğ°ĞºÑĞ¸Ñ | Production Ğ· OpenAI, ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡Ğ½Ğ° Ğ²Ğ°Ğ»Ñ–Ğ´Ğ°Ñ†Ñ–Ñ |
| **Anthropic tool_choice** | ĞĞ°Ğ´Ñ–Ğ¹Ğ½Ğ¾ Ğ· Claude, Ğ³Ğ½ÑƒÑ‡ĞºÑ– ÑÑ…ĞµĞ¼Ğ¸ | ĞŸĞ¾Ñ‚Ñ€ĞµĞ±ÑƒÑ” Ğ¾Ğ±Ğ³Ğ¾Ñ€Ñ‚ĞºĞ¸ Ğ² "tool", Ğ±Ñ–Ğ»ÑŒÑˆĞµ Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ² | Production Ğ· Anthropic |
| **ĞŸÑ€Ğ¾Ğ¼Ğ¿Ñ‚ + JSON.parse** | ĞŸÑ€Ğ°Ñ†ÑÑ” Ğ· Ğ±ÑƒĞ´ÑŒ-ÑĞºĞ¾Ñ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ»Ñ | Ğ§Ğ°ÑÑ‚Ğ¾ Ğ»Ğ°Ğ¼Ğ°Ñ”Ñ‚ÑŒÑÑ, Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±ÑƒÑ” retry | Ğ¨Ğ²Ğ¸Ğ´ĞºĞµ Ğ¿Ñ€Ğ¾Ñ‚Ğ¾Ñ‚Ğ¸Ğ¿ÑƒĞ²Ğ°Ğ½Ğ½Ñ, legacy |

### ĞŸÑ€Ğ¸ĞºĞ»Ğ°Ğ´: Ğ¾Ğ´Ğ¸Ğ½ ĞºĞ¾Ğ´ â†’ Ñ€Ñ–Ğ·Ğ½Ñ– Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ğ¸

```typescript
// universal-structured.ts
import { generateObject } from 'ai';
import { openai } from '@ai-sdk/openai';
import { anthropic } from '@ai-sdk/anthropic';
import { google } from '@ai-sdk/google';
import { z } from 'zod';

const schema = z.object({
  city: z.string(),
  country: z.string(),
  population: z.number(),
});

// ĞĞ´Ğ¸Ğ½ Ñ– Ñ‚Ğ¾Ğ¹ Ğ¶Ğµ ĞºĞ¾Ğ´ Ğ¿Ñ€Ğ°Ñ†ÑÑ” Ğ· Ñ€Ñ–Ğ·Ğ½Ğ¸Ğ¼Ğ¸ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€Ğ°Ğ¼Ğ¸
async function getCityInfo(provider: 'openai' | 'anthropic' | 'google') {
  const models = {
    openai: openai('gpt-4o-mini'),
    anthropic: anthropic('claude-3-5-haiku-20241022'),
    google: google('gemini-1.5-flash'),
  };
  
  const { object } = await generateObject({
    model: models[provider],
    schema,
    prompt: 'Ğ†Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ñ–Ñ Ğ¿Ñ€Ğ¾ ĞšĞ¸Ñ—Ğ²',
  });
  
  return object;
}

// Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ
const result = await getCityInfo('openai');
console.log(result); // { city: "Kyiv", country: "Ukraine", population: 2952000 }
```

## 2.4 Ğ Ğ¾Ğ»Ñ– Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ (Chat Completions)

```typescript
// chat-roles.ts
import { generateText } from 'ai';
import { openai } from '@ai-sdk/openai';

const { text } = await generateText({
  model: openai('gpt-4o'),
  messages: [
    // ğŸ­ SYSTEM: Ğ—Ğ°Ğ´Ğ°Ñ” "Ğ¾ÑĞ¾Ğ±Ğ¸ÑÑ‚Ñ–ÑÑ‚ÑŒ" Ñ‚Ğ° Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ¼Ğ¾Ğ´ĞµĞ»Ñ–
    {
      role: 'system',
      content: `Ğ¢Ğ¸ â€” ĞµĞºÑĞ¿ĞµÑ€Ñ‚ Ğ· TypeScript. 
        ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ°:
        - Ğ’Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ°Ğ¹ ÑƒĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ¾Ñ
        - Ğ”Ğ°Ğ²Ğ°Ğ¹ Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ñ– Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´Ğ¸ ĞºĞ¾Ğ´Ñƒ
        - Ğ¯ĞºÑ‰Ğ¾ Ğ½Ğµ Ğ·Ğ½Ğ°Ñ”Ñˆ â€” ÑĞºĞ°Ğ¶Ğ¸ Ğ¿Ñ€ÑĞ¼Ğ¾`
    },
    
    // ğŸ‘¤ USER: ĞŸĞ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ²Ñ–Ğ´ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ğ°
    {
      role: 'user',
      content: 'Ğ©Ğ¾ Ñ‚Ğ°ĞºĞµ generics?'
    },
    
    // ğŸ¤– ASSISTANT: ĞŸĞ¾Ğ¿ĞµÑ€ĞµĞ´Ğ½Ñ– Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ñ– Ğ¼Ğ¾Ğ´ĞµĞ»Ñ– (Ğ´Ğ»Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ñƒ)
    {
      role: 'assistant',
      content: 'Generics â€” Ñ†Ğµ ÑĞ¿Ğ¾ÑÑ–Ğ± ÑÑ‚Ğ²Ğ¾Ñ€ÑĞ²Ğ°Ñ‚Ğ¸ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¸, ÑĞºÑ– Ğ¿Ñ€Ğ°Ñ†ÑÑÑ‚ÑŒ Ğ· Ñ€Ñ–Ğ·Ğ½Ğ¸Ğ¼Ğ¸ Ñ‚Ğ¸Ğ¿Ğ°Ğ¼Ğ¸...'
    },
    
    // ğŸ‘¤ USER: ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ²Ğ¶ĞµĞ½Ğ½Ñ Ğ´Ñ–Ğ°Ğ»Ğ¾Ğ³Ñƒ
    {
      role: 'user',
      content: 'ĞŸĞ¾ĞºĞ°Ğ¶Ğ¸ Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´ Ğ· Ğ¼Ğ°ÑĞ¸Ğ²Ğ¾Ğ¼'
    }
  ]
});
```

### Ğ”Ñ–Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ° Ğ¿Ğ¾Ñ‚Ğ¾ĞºÑƒ Chat API

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Chat API Request                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  messages: [                                                â”‚
â”‚    { role: "system", content: "..." }     â† ĞĞ±Ğ¾Ğ²'ÑĞ·ĞºĞ¾Ğ²Ğ¸Ğ¹   â”‚
â”‚    { role: "user", content: "..." }       â† ĞŸĞµÑ€ÑˆĞµ Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ  â”‚
â”‚    { role: "assistant", content: "..." }  â† ĞŸĞ¾Ğ¿ĞµÑ€ĞµĞ´Ğ½Ñ      â”‚
â”‚    { role: "user", content: "..." }       â† ĞĞ¾Ğ²Ğµ Ğ¿Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ   â”‚
â”‚  ]                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      LLM Processing                         â”‚
â”‚                                                             â”‚
â”‚   1. Ğ§Ğ¸Ñ‚Ğ°Ñ” system prompt (Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°)                         â”‚
â”‚   2. ĞĞ½Ğ°Ğ»Ñ–Ğ·ÑƒÑ” Ñ–ÑÑ‚Ğ¾Ñ€Ñ–Ñ (context)                            â”‚
â”‚   3. Ğ“ĞµĞ½ĞµÑ€ÑƒÑ” Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ Ğ½Ğ° Ğ¾ÑÑ‚Ğ°Ğ½Ğ½Ñ” Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  response: {                                                â”‚
â”‚    role: "assistant",                                       â”‚
â”‚    content: "..."                                           â”‚
â”‚  }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2.5 Multimodal: Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ğ° Ğ· Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½ÑĞ¼Ğ¸

### Ğ‘Ğ°Ğ·Ğ¾Ğ²Ğ¸Ğ¹ Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´ Ğ· URL

```typescript
// vision-url.ts
import { generateText } from 'ai';
import { openai } from '@ai-sdk/openai';

const { text } = await generateText({
  model: openai('gpt-4o'),
  messages: [
    {
      role: 'user',
      content: [
        { type: 'text', text: 'Ğ©Ğ¾ Ğ½Ğ° Ñ†ÑŒĞ¾Ğ¼Ñƒ Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ–?' },
        { 
          type: 'image', 
          image: new URL('https://example.com/image.jpg')
        }
      ]
    }
  ]
});

console.log(text);
```

### ĞŸĞ¾Ğ²Ğ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´: Ğ·Ğ°Ğ²Ğ°Ğ½Ñ‚Ğ°Ğ¶ĞµĞ½Ğ½Ñ Ğ· Ğ´Ğ¸ÑĞºÑƒ + base64

```typescript
// vision-file.ts
import { generateText } from 'ai';
import { openai } from '@ai-sdk/openai';
import * as fs from 'fs';
import * as path from 'path';

async function analyzeLocalImage(imagePath: string) {
  // 1. ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑ”Ğ¼Ğ¾ Ñ‰Ğ¾ Ñ„Ğ°Ğ¹Ğ» Ñ–ÑĞ½ÑƒÑ”
  if (!fs.existsSync(imagePath)) {
    throw new Error(`Ğ¤Ğ°Ğ¹Ğ» Ğ½Ğµ Ğ·Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾: ${imagePath}`);
  }
  
  // 2. ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑ”Ğ¼Ğ¾ Ñ€Ğ¾Ğ·Ğ¼Ñ–Ñ€ Ñ„Ğ°Ğ¹Ğ»Ñƒ (Ğ»Ñ–Ğ¼Ñ–Ñ‚ ~20MB Ğ´Ğ»Ñ OpenAI)
  const stats = fs.statSync(imagePath);
  const fileSizeMB = stats.size / (1024 * 1024);
  if (fileSizeMB > 20) {
    throw new Error(`Ğ¤Ğ°Ğ¹Ğ» Ğ·Ğ°Ğ½Ğ°Ğ´Ñ‚Ğ¾ Ğ²ĞµĞ»Ğ¸ĞºĞ¸Ğ¹: ${fileSizeMB.toFixed(2)}MB (Ğ»Ñ–Ğ¼Ñ–Ñ‚ 20MB)`);
  }
  
  // 3. Ğ’Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ°Ñ”Ğ¼Ğ¾ MIME Ñ‚Ğ¸Ğ¿
  const ext = path.extname(imagePath).toLowerCase();
  const mimeTypes: Record<string, string> = {
    '.jpg': 'image/jpeg',
    '.jpeg': 'image/jpeg',
    '.png': 'image/png',
    '.gif': 'image/gif',
    '.webp': 'image/webp',
  };
  
  const mimeType = mimeTypes[ext];
  if (!mimeType) {
    throw new Error(`ĞĞµĞ¿Ñ–Ğ´Ñ‚Ñ€Ğ¸Ğ¼ÑƒĞ²Ğ°Ğ½Ğ¸Ğ¹ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚: ${ext}`);
  }
  
  // 4. Ğ§Ğ¸Ñ‚Ğ°Ñ”Ğ¼Ğ¾ Ñ‚Ğ° ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚ÑƒÑ”Ğ¼Ğ¾ Ğ² base64
  const imageBuffer = fs.readFileSync(imagePath);
  const base64Image = imageBuffer.toString('base64');
  
  console.log(`ğŸ“· ĞĞ±Ñ€Ğ¾Ğ±Ğ»ÑÑ”Ğ¼Ğ¾: ${imagePath}`);
  console.log(`   Ğ Ğ¾Ğ·Ğ¼Ñ–Ñ€: ${fileSizeMB.toFixed(2)}MB, Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: ${mimeType}`);
  
  // 5. Ğ’Ñ–Ğ´Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ”Ğ¼Ğ¾ Ğ´Ğ¾ API
  const { text, usage } = await generateText({
    model: openai('gpt-4o'),
    messages: [
      {
        role: 'user',
        content: [
          { type: 'text', text: 'ĞĞ¿Ğ¸ÑˆĞ¸ Ğ´ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾ Ñ‰Ğ¾ Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¾ Ğ½Ğ° Ñ„Ğ¾Ñ‚Ğ¾' },
          { 
            type: 'image', 
            image: `data:${mimeType};base64,${base64Image}`
          }
        ]
      }
    ]
  });
  
  return { description: text, tokens: usage.totalTokens };
}

// Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ
const result = await analyzeLocalImage('./screenshot.png');
console.log('\nğŸ“ ĞĞ¿Ğ¸Ñ:', result.description);
console.log('ğŸ’° Ğ¢Ğ¾ĞºĞµĞ½Ñ–Ğ²:', result.tokens);
```

**ğŸ“Š Ğ’Ğ¸Ğ²Ñ–Ğ´ ĞºĞ¾Ğ½ÑĞ¾Ğ»Ñ–:**
```
ğŸ“· ĞĞ±Ñ€Ğ¾Ğ±Ğ»ÑÑ”Ğ¼Ğ¾: ./screenshot.png
   Ğ Ğ¾Ğ·Ğ¼Ñ–Ñ€: 0.45MB, Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: image/png

ğŸ“ ĞĞ¿Ğ¸Ñ: ĞĞ° Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ½Ñ– Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¾ Ñ–Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ VS Code Ğ· Ğ²Ñ–Ğ´ĞºÑ€Ğ¸Ñ‚Ğ¸Ğ¼ TypeScript 
Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ¼. Ğ’Ğ¸Ğ´Ğ½Ğ¾ ĞºĞ¾Ğ´ Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ— Ğ· async/await ÑĞ¸Ğ½Ñ‚Ğ°ĞºÑĞ¸ÑĞ¾Ğ¼. Ğ£ Ğ»Ñ–Ğ²Ñ–Ğ¹ Ğ¿Ğ°Ğ½ĞµĞ»Ñ– 
Ğ²Ñ–Ğ´Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°Ñ”Ñ‚ÑŒÑÑ Ğ´ĞµÑ€ĞµĞ²Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ñ–Ğ² Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñƒ Ğ· Ğ¿Ğ°Ğ¿ĞºĞ°Ğ¼Ğ¸ src, tests, node_modules...

ğŸ’° Ğ¢Ğ¾ĞºĞµĞ½Ñ–Ğ²: 892
```

### âš ï¸ Ğ›Ñ–Ğ¼Ñ–Ñ‚Ğ¸ Ñ€Ğ¾Ğ·Ğ¼Ñ–Ñ€Ñƒ Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½ÑŒ

| ĞŸÑ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€ | ĞœĞ°ĞºÑ. Ñ€Ğ¾Ğ·Ğ¼Ñ–Ñ€ | ĞœĞ°ĞºÑ. Ñ€Ğ¾Ğ·Ğ´Ñ–Ğ»ÑŒĞ½Ñ–ÑÑ‚ÑŒ | Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸ |
|-----------|--------------|-------------------|---------|
| OpenAI (GPT-4o) | 20MB | 2048x2048 | JPEG, PNG, GIF, WebP |
| Anthropic (Claude) | 5MB | 8000x8000 | JPEG, PNG, GIF, WebP |
| Google (Gemini) | 20MB | Ğ‘ĞµĞ· Ğ»Ñ–Ğ¼Ñ–Ñ‚Ñƒ | JPEG, PNG, GIF, WebP, PDF |

## ğŸ¤” ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ ÑĞµĞ±Ğµ

1. Ğ¯ĞºĞ° Ñ€Ñ–Ğ·Ğ½Ğ¸Ñ†Ñ Ğ¼Ñ–Ğ¶ `generateText` Ñ– `streamText`?
2. ĞĞ°Ğ²Ñ–Ñ‰Ğ¾ Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ° Zod ÑÑ…ĞµĞ¼Ğ° Ğ² `generateObject`?
3. Ğ§Ğ¾Ğ¼Ñƒ `assistant` Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ²ĞºĞ»ÑÑ‡Ğ°ÑÑ‚ÑŒ Ğ² Ğ¼Ğ°ÑĞ¸Ğ² messages?

<details>
<summary>ğŸ“ Ğ’Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ñ–</summary>

1. `generateText` Ñ‡ĞµĞºĞ°Ñ” Ğ¿Ğ¾Ğ²Ğ½Ñƒ Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ, `streamText` Ğ¿Ğ¾Ğ²ĞµÑ€Ñ‚Ğ°Ñ” Ñ‚Ğ¾ĞºĞµĞ½Ğ¸ Ğ¿Ğ¾ÑÑ‚ÑƒĞ¿Ğ¾Ğ²Ğ¾ â€” ĞºÑ€Ğ°Ñ‰Ğµ Ğ´Ğ»Ñ UX Ğ² Ñ‡Ğ°Ñ‚-Ğ±Ğ¾Ñ‚Ğ°Ñ….

2. Zod ÑÑ…ĞµĞ¼Ğ° Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚ÑƒÑ” Ñ‰Ğ¾ LLM Ğ¿Ğ¾Ğ²ĞµÑ€Ğ½Ğµ Ğ´Ğ°Ğ½Ñ– Ñƒ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¼Ñƒ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ñ–. AI SDK Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ ĞºĞ¾Ğ½Ğ²ĞµÑ€Ñ‚ÑƒÑ” Zod ÑÑ…ĞµĞ¼Ñƒ Ğ² JSON Schema Ğ´Ğ»Ñ API.

3. `assistant` Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ´Ğ°ÑÑ‚ÑŒ Ğ¼Ğ¾Ğ´ĞµĞ»Ñ– ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ¿Ğ¾Ğ¿ĞµÑ€ĞµĞ´Ğ½ÑŒĞ¾Ğ³Ğ¾ Ğ´Ñ–Ğ°Ğ»Ğ¾Ğ³Ñƒ â€” Ğ±ĞµĞ· Ğ½Ğ¸Ñ… ĞºĞ¾Ğ¶ĞµĞ½ Ğ·Ğ°Ğ¿Ğ¸Ñ‚ Ğ±ÑƒĞ´Ğµ ÑĞº "Ğ· Ñ‡Ğ¸ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ°Ñ€ĞºÑƒÑˆĞ°".
</details>

---

# ĞœĞ¾Ğ´ÑƒĞ»ÑŒ 2.5: Ğ¢Ğ¸Ğ¿Ğ¾Ğ²Ñ– Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸ Ñ‚Ğ° Ñ—Ñ… Ğ²Ğ¸Ñ€Ñ–ÑˆĞµĞ½Ğ½Ñ

> ğŸ¯ **ĞœĞµÑ‚Ğ° Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ:** ĞĞ°Ğ²Ñ‡Ğ¸Ñ‚Ğ¸ÑÑŒ ÑˆĞ²Ğ¸Ğ´ĞºĞ¾ Ğ´Ñ–Ğ°Ğ³Ğ½Ğ¾ÑÑ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ Ñ‚Ğ° Ğ²Ğ¸Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ‚Ğ¸ Ğ½Ğ°Ğ¹Ğ¿Ğ¾ÑˆĞ¸Ñ€ĞµĞ½Ñ–ÑˆÑ– Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸ Ğ¿Ñ€Ğ¸ Ñ€Ğ¾Ğ±Ğ¾Ñ‚Ñ– Ğ· LLM API.

## âŒ ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: Context Length Exceeded

### Ğ¡Ğ¸Ğ¼Ğ¿Ñ‚Ğ¾Ğ¼
```
Error: This model's maximum context length is 128000 tokens. 
However, your messages resulted in 135847 tokens.
```

### ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°
Ğ¡ÑƒĞ¼Ğ° Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ² (system prompt + history + user message + retrieved docs) Ğ¿ĞµÑ€ĞµĞ²Ğ¸Ñ‰Ğ¸Ğ»Ğ° Ğ»Ñ–Ğ¼Ñ–Ñ‚ Ğ¼Ğ¾Ğ´ĞµĞ»Ñ–.

### Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ 1: ĞĞ±Ñ€Ñ–Ğ·Ğ°Ğ½Ğ½Ñ Ñ–ÑÑ‚Ğ¾Ñ€Ñ–Ñ— (Ğ½Ğ°Ğ¹Ğ¿Ñ€Ğ¾ÑÑ‚Ñ–ÑˆĞµ)

```typescript
// context-trim.ts
interface Message {
  role: 'user' | 'assistant' | 'system';
  content: string;
}

function trimHistory(
  messages: Message[], 
  maxTokens: number,
  systemPrompt: string
): Message[] {
  // ĞŸÑ€Ğ¸Ğ±Ğ»Ğ¸Ğ·Ğ½Ğ° Ğ¾Ñ†Ñ–Ğ½ĞºĞ°: 1 Ñ‚Ğ¾ĞºĞµĞ½ â‰ˆ 4 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¸
  const estimateTokens = (text: string) => Math.ceil(text.length / 4);
  
  const systemTokens = estimateTokens(systemPrompt);
  let availableTokens = maxTokens - systemTokens - 1000; // 1000 Ğ½Ğ° Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ
  
  const result: Message[] = [];
  
  // Ğ™Ğ´ĞµĞ¼Ğ¾ Ğ· ĞºÑ–Ğ½Ñ†Ñ (Ğ½Ğ°Ğ¹Ğ½Ğ¾Ğ²Ñ–ÑˆÑ– Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ Ğ²Ğ°Ğ¶Ğ»Ğ¸Ğ²Ñ–ÑˆÑ–)
  for (let i = messages.length - 1; i >= 0; i--) {
    const msgTokens = estimateTokens(messages[i].content);
    
    if (availableTokens - msgTokens < 0) {
      console.log(`âš ï¸ ĞĞ±Ñ€Ñ–Ğ·Ğ°Ğ½Ğ¾ ${i + 1} ÑÑ‚Ğ°Ñ€Ğ¸Ñ… Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ`);
      break;
    }
    
    availableTokens -= msgTokens;
    result.unshift(messages[i]); // Ğ”Ğ¾Ğ´Ğ°Ñ”Ğ¼Ğ¾ Ğ½Ğ° Ğ¿Ğ¾Ñ‡Ğ°Ñ‚Ğ¾Ğº
  }
  
  return result;
}

// Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ
const trimmed = trimHistory(allMessages, 128000, systemPrompt);
```

### Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ 2: Summarization (Ğ´Ğ»Ñ Ğ´Ğ¾Ğ²Ğ³Ğ¸Ñ… Ğ´Ñ–Ğ°Ğ»Ğ¾Ğ³Ñ–Ğ²)

```typescript
// context-summarize.ts
import { generateText } from 'ai';
import { openai } from '@ai-sdk/openai';

async function summarizeOldMessages(
  messages: Message[],
  keepLast: number = 10
): Promise<Message[]> {
  if (messages.length <= keepLast) {
    return messages;
  }
  
  const oldMessages = messages.slice(0, -keepLast);
  const recentMessages = messages.slice(-keepLast);
  
  // Ğ¡Ñ‚Ğ²Ğ¾Ñ€ÑÑ”Ğ¼Ğ¾ summary ÑÑ‚Ğ°Ñ€Ğ¸Ñ… Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½ÑŒ
  const { text: summary } = await generateText({
    model: openai('gpt-4o-mini'), // Ğ”ĞµÑˆĞµĞ²ÑˆĞ° Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ Ğ´Ğ»Ñ summary
    prompt: `Ğ¡Ñ‚Ğ¸ÑĞ»Ğ¾ ÑƒĞ·Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ğ¸ ĞºĞ»ÑÑ‡Ğ¾Ğ²Ñ– Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚Ğ¸ Ñ†Ñ–Ñ”Ñ— Ñ€Ğ¾Ğ·Ğ¼Ğ¾Ğ²Ğ¸ (Ğ¼Ğ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ 200 ÑĞ»Ñ–Ğ²):
    
${oldMessages.map(m => `${m.role}: ${m.content}`).join('\n')}`,
  });
  
  // Ğ’ÑÑ‚Ğ°Ğ²Ğ»ÑÑ”Ğ¼Ğ¾ summary ÑĞº ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½Ğµ Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ½Ñ
  return [
    {
      role: 'system' as const,
      content: `[ĞšĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ¿Ğ¾Ğ¿ĞµÑ€ĞµĞ´Ğ½ÑŒĞ¾Ñ— Ñ€Ğ¾Ğ·Ğ¼Ğ¾Ğ²Ğ¸: ${summary}]`
    },
    ...recentMessages
  ];
}
```

**ğŸ“Š Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:**
```
Ğ”Ğ¾: 150,000 Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ² (Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ°!)
ĞŸÑ–ÑĞ»Ñ summarization: 45,000 Ñ‚Ğ¾ĞºĞµĞ½Ñ–Ğ² (Ğ¿Ñ€Ğ°Ñ†ÑÑ”)
```

---

## âŒ ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: Invalid JSON Response

### Ğ¡Ğ¸Ğ¼Ğ¿Ñ‚Ğ¾Ğ¼
```
SyntaxError: Unexpected token 'I' at position 0
JSON: "I'll help you with that. Here's the data: {"name": "test"}"
```

### ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°
ĞœĞ¾Ğ´ĞµĞ»ÑŒ Ğ´Ğ¾Ğ´Ğ°Ğ»Ğ° Ñ‚ĞµĞºÑÑ‚ Ğ¿ĞµÑ€ĞµĞ´/Ğ¿Ñ–ÑĞ»Ñ JSON Ğ·Ğ°Ğ¼Ñ–ÑÑ‚ÑŒ Ñ‡Ğ¸ÑÑ‚Ğ¾Ğ³Ğ¾ JSON.

### Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ: Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ¹Ñ‚Ğµ `generateObject`

```typescript
// âŒ ĞĞ•ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ: Ñ€ÑƒÑ‡Ğ½Ğ¸Ğ¹ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³
const { text } = await generateText({
  model: openai('gpt-4o'),
  prompt: 'ĞŸĞ¾Ğ²ĞµÑ€Ğ½Ğ¸ JSON Ğ· Ğ¿Ğ¾Ğ»ÑĞ¼Ğ¸ name Ñ‚Ğ° age Ğ´Ğ»Ñ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ğ° John, 25 Ñ€Ğ¾ĞºÑ–Ğ²'
});
const data = JSON.parse(text); // ğŸ’¥ ĞœĞ¾Ğ¶Ğµ Ğ²Ğ¿Ğ°ÑÑ‚Ğ¸!

// âœ… ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ: generateObject
import { generateObject } from 'ai';
import { z } from 'zod';

const { object } = await generateObject({
  model: openai('gpt-4o'),
  schema: z.object({
    name: z.string(),
    age: z.number()
  }),
  prompt: 'Ğ”Ğ°Ğ½Ñ– Ğ´Ğ»Ñ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡Ğ° John, 25 Ñ€Ğ¾ĞºÑ–Ğ²'
});
// object Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¾Ğ²Ğ°Ğ½Ğ¾ Ğ¼Ğ°Ñ” Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñƒ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ
```

### Fallback: Robust JSON parsing

```typescript
// robust-json-parse.ts
function extractJSON(text: string): unknown {
  // Ğ¡Ğ¿Ñ€Ğ¾Ğ±Ğ° 1: Ğ¿Ñ€ÑĞ¼Ğ¸Ğ¹ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³
  try {
    return JSON.parse(text);
  } catch {}
  
  // Ğ¡Ğ¿Ñ€Ğ¾Ğ±Ğ° 2: Ğ²Ğ¸Ñ‚ÑĞ³Ñ‚Ğ¸ JSON Ğ· markdown code block
  const codeBlockMatch = text.match(/```(?:json)?\s*([\s\S]*?)```/);
  if (codeBlockMatch) {
    try {
      return JSON.parse(codeBlockMatch[1].trim());
    } catch {}
  }
  
  // Ğ¡Ğ¿Ñ€Ğ¾Ğ±Ğ° 3: Ğ·Ğ½Ğ°Ğ¹Ñ‚Ğ¸ JSON Ğ¾Ğ±'Ñ”ĞºÑ‚ Ğ² Ñ‚ĞµĞºÑÑ‚Ñ–
  const jsonMatch = text.match(/\{[\s\S]*\}/);
  if (jsonMatch) {
    try {
      return JSON.parse(jsonMatch[0]);
    } catch {}
  }
  
  throw new Error(`ĞĞµ Ğ²Ğ´Ğ°Ğ»Ğ¾ÑÑ Ğ²Ğ¸Ñ‚ÑĞ³Ñ‚Ğ¸ JSON Ğ·: ${text.slice(0, 100)}...`);
}
```

---

## âŒ ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: Rate Limiting (429)

### Ğ¡Ğ¸Ğ¼Ğ¿Ñ‚Ğ¾Ğ¼
```
Error: 429 Too Many Requests
Rate limit reached for gpt-4o: 500 requests per minute
```

### ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°
ĞŸĞµÑ€ĞµĞ²Ğ¸Ñ‰ĞµĞ½Ğ¾ Ğ»Ñ–Ğ¼Ñ–Ñ‚ Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñ–Ğ² Ğ´Ğ¾ API.

### Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ: Exponential Backoff Ğ· Retry

```typescript
// retry-with-backoff.ts
import { generateText } from 'ai';
import { openai } from '@ai-sdk/openai';

interface RetryConfig {
  maxRetries: number;
  baseDelayMs: number;
  maxDelayMs: number;
}

async function generateWithRetry(
  prompt: string,
  config: RetryConfig = { maxRetries: 5, baseDelayMs: 1000, maxDelayMs: 60000 }
): Promise<string> {
  let lastError: Error | null = null;
  
  for (let attempt = 0; attempt < config.maxRetries; attempt++) {
    try {
      const { text } = await generateText({
        model: openai('gpt-4o'),
        prompt,
      });
      return text;
    } catch (error: any) {
      lastError = error;
      
      // ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ÑÑ”Ğ¼Ğ¾ Ñ‡Ğ¸ Ñ†Ğµ rate limit
      if (error.status !== 429) {
        throw error; // Ğ†Ğ½ÑˆÑ– Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸ â€” Ğ½Ğµ retry
      }
      
      // Ğ•ĞºÑĞ¿Ğ¾Ğ½ĞµĞ½Ñ†Ñ–Ğ¹Ğ½Ğ° Ğ·Ğ°Ñ‚Ñ€Ğ¸Ğ¼ĞºĞ°: 1s, 2s, 4s, 8s, 16s...
      const delay = Math.min(
        config.baseDelayMs * Math.pow(2, attempt),
        config.maxDelayMs
      );
      
      // Ğ”Ğ¾Ğ´Ğ°Ñ”Ğ¼Ğ¾ jitter (Ğ²Ğ¸Ğ¿Ğ°Ğ´ĞºĞ¾Ğ²Ñ–ÑÑ‚ÑŒ) Ñ‰Ğ¾Ğ± ÑƒĞ½Ğ¸ĞºĞ½ÑƒÑ‚Ğ¸ "Ñ…Ğ²Ğ¸Ğ»ÑŒ" Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñ–Ğ²
      const jitter = Math.random() * 1000;
      
      console.log(`â³ Rate limited. Retry ${attempt + 1}/${config.maxRetries} Ñ‡ĞµÑ€ĞµĞ· ${(delay + jitter) / 1000}s`);
      
      await new Promise(resolve => setTimeout(resolve, delay + jitter));
    }
  }
  
  throw lastError;
}

// Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ğ½Ñ
const result = await generateWithRetry('ĞŸÑ€Ğ¸Ğ²Ñ–Ñ‚!');
```

**ğŸ“Š Ğ’Ğ¸Ğ²Ñ–Ğ´ Ğ¿Ñ€Ğ¸ rate limit:**
```
â³ Rate limited. Retry 1/5 Ñ‡ĞµÑ€ĞµĞ· 1.3s
â³ Rate limited. Retry 2/5 Ñ‡ĞµÑ€ĞµĞ· 2.7s
âœ… Ğ£ÑĞ¿Ñ–ÑˆĞ½Ğ¾ Ğ¿Ñ–ÑĞ»Ñ 3-Ñ— ÑĞ¿Ñ€Ğ¾Ğ±Ğ¸
```

---

## âŒ ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: Tool/Function Not Executed

### Ğ¡Ğ¸Ğ¼Ğ¿Ñ‚Ğ¾Ğ¼
```typescript
// ĞÑ‡Ñ–ĞºÑƒĞ²Ğ°Ğ»Ğ¸ Ğ²Ğ¸ĞºĞ»Ğ¸Ğº Ñ„ÑƒĞ½ĞºÑ†Ñ–Ñ—, Ğ°Ğ»Ğµ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ»Ğ° Ñ‚ĞµĞºÑÑ‚:
"I would call the weather function with city='Kyiv'"
```

### ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°
1. ĞœĞ¾Ğ´ĞµĞ»ÑŒ Ğ½Ğµ Ñ€Ğ¾Ğ·ÑƒĞ¼Ñ–Ñ” ĞºĞ¾Ğ»Ğ¸ Ğ²Ğ¸ĞºĞ»Ğ¸ĞºĞ°Ñ‚Ğ¸ tool
2. ĞĞ¿Ğ¸Ñ tool Ğ·Ğ°Ğ½Ğ°Ğ´Ñ‚Ğ¾ Ğ·Ğ°Ğ³Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹
3. ĞŸÑ€Ğ¾Ğ¼Ğ¿Ñ‚ Ğ½Ğµ Ğ²ĞºĞ°Ğ·ÑƒÑ” Ñ‰Ğ¾ Ğ¿Ğ¾Ñ‚Ñ€Ñ–Ğ±Ğ½Ğ¾ Ğ’Ğ˜ĞšĞĞĞĞ¢Ğ˜ Ğ´Ñ–Ñ

### Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ: ĞŸĞ¾ĞºÑ€Ğ°Ñ‰ĞµĞ½Ğ½Ñ Tool Definition

```typescript
// âŒ ĞĞ•ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ: Ñ€Ğ¾Ğ·Ğ¼Ğ¸Ñ‚Ğ¸Ğ¹ Ğ¾Ğ¿Ğ¸Ñ
const tools = {
  weather: {
    description: 'Gets weather information',
    parameters: z.object({ city: z.string() })
  }
};

// âœ… ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ¬ĞĞ: Ñ‡Ñ–Ñ‚ĞºĞ¸Ğ¹ Ğ¾Ğ¿Ğ¸Ñ Ğ· Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´Ğ°Ğ¼Ğ¸
const tools = {
  getWeather: {
    description: `ĞÑ‚Ñ€Ğ¸Ğ¼ÑƒÑ” Ğ¿Ğ¾Ñ‚Ğ¾Ñ‡Ğ½Ñƒ Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ñƒ Ğ´Ğ»Ñ Ğ²ĞºĞ°Ğ·Ğ°Ğ½Ğ¾Ğ³Ğ¾ Ğ¼Ñ–ÑÑ‚Ğ°.
    
Ğ—ĞĞ’Ğ–Ğ”Ğ˜ Ğ²Ğ¸ĞºĞ»Ğ¸ĞºĞ°Ğ¹ Ñ†ĞµĞ¹ tool ĞºĞ¾Ğ»Ğ¸ ĞºĞ¾Ñ€Ğ¸ÑÑ‚ÑƒĞ²Ğ°Ñ‡:
- ĞŸĞ¸Ñ‚Ğ°Ñ” Ğ¿Ñ€Ğ¾ Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ñƒ ("ÑĞºĞ° Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ğ° Ğ² ĞšĞ¸Ñ”Ğ²Ñ–?")
- Ğ¥Ğ¾Ñ‡Ğµ Ğ´Ñ–Ğ·Ğ½Ğ°Ñ‚Ğ¸ÑÑŒ Ñ‚ĞµĞ¼Ğ¿ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ñƒ
- ĞŸĞ¸Ñ‚Ğ°Ñ” Ñ‡Ğ¸ Ğ±Ñ€Ğ°Ñ‚Ğ¸ Ğ¿Ğ°Ñ€Ğ°ÑĞ¾Ğ»ÑŒĞºÑƒ

ĞŸÑ€Ğ¸ĞºĞ»Ğ°Ğ´Ğ¸ Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñ–Ğ² Ñ‰Ğ¾ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±ÑƒÑÑ‚ÑŒ Ñ†ÑŒĞ¾Ğ³Ğ¾ tool:
- "ĞŸĞ¾Ğ³Ğ¾Ğ´Ğ° Ğ›ÑŒĞ²Ñ–Ğ²" â†’ getWeather({ city: "Ğ›ÑŒĞ²Ñ–Ğ²" })
- "Ğ§Ğ¸ Ñ…Ğ¾Ğ»Ğ¾Ğ´Ğ½Ğ¾ Ğ² ĞĞ´ĞµÑÑ–?" â†’ getWeather({ city: "ĞĞ´ĞµÑĞ°" })`,
    parameters: z.object({ 
      city: z.string().describe('ĞĞ°Ğ·Ğ²Ğ° Ğ¼Ñ–ÑÑ‚Ğ° ÑƒĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ¾Ñ Ğ°Ğ±Ğ¾ Ğ°Ğ½Ğ³Ğ»Ñ–Ğ¹ÑÑŒĞºĞ¾Ñ')
    })
  }
};
```

### Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ 2: ĞŸÑ€Ğ¸Ğ¼ÑƒÑĞ¾Ğ²Ğ¸Ğ¹ Ğ²Ğ¸ĞºĞ»Ğ¸Ğº tool

```typescript
import { generateText } from 'ai';
import { openai } from '@ai-sdk/openai';

const { text, toolCalls } = await generateText({
  model: openai('gpt-4o'),
  tools: {
    getWeather: {
      description: 'ĞÑ‚Ñ€Ğ¸Ğ¼ÑƒÑ” Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ñƒ',
      parameters: z.object({ city: z.string() })
    }
  },
  toolChoice: 'required', // ğŸ‘ˆ ĞŸÑ€Ğ¸Ğ¼ÑƒÑˆÑƒÑ” Ğ²Ğ¸ĞºĞ»Ğ¸ĞºĞ°Ñ‚Ğ¸ Ñ…Ğ¾Ñ‡Ğ° Ğ± Ğ¾Ğ´Ğ¸Ğ½ tool
  prompt: 'Ğ¯ĞºĞ° Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ğ° Ğ² ĞšĞ¸Ñ”Ğ²Ñ–?'
});

if (toolCalls.length === 0) {
  console.error('âŒ ĞœĞ¾Ğ´ĞµĞ»ÑŒ Ğ½Ğµ Ğ²Ğ¸ĞºĞ»Ğ¸ĞºĞ°Ğ»Ğ° tool!');
}
```

---

## âŒ ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: Ğ“Ğ°Ğ»ÑÑ†Ğ¸Ğ½Ğ°Ñ†Ñ–Ñ— Ñƒ Structured Data

### Ğ¡Ğ¸Ğ¼Ğ¿Ñ‚Ğ¾Ğ¼
```typescript
// Ğ—Ğ°Ğ¿Ğ¸Ñ‚: "ĞŸÑ€Ğ¾Ğ°Ğ½Ğ°Ğ»Ñ–Ğ·ÑƒĞ¹ Ğ²Ñ–Ğ´Ğ³ÑƒĞº: 'Ğ¢Ğ¾Ğ²Ğ°Ñ€ Ğ¾Ğº'"
// Ğ’Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´ÑŒ Ğ¼Ğ¾Ğ´ĞµĞ»Ñ–:
{
  "productName": "iPhone 15 Pro",     // ğŸ˜± Ğ’Ğ¸Ğ³Ğ°Ğ´Ğ°Ğ½Ğ¾!
  "purchaseDate": "2024-03-15",       // ğŸ˜± Ğ’Ğ¸Ğ³Ğ°Ğ´Ğ°Ğ½Ğ¾!
  "rating": 4.5,                      // ĞĞµ Ğ±ÑƒĞ»Ğ¾ Ğ² Ğ²Ñ–Ğ´Ğ³ÑƒĞºÑƒ
  "issues": ["battery life", "price"] // ĞŸĞ¾Ğ²Ğ½Ñ–ÑÑ‚Ñ Ğ²Ğ¸Ğ³Ğ°Ğ´Ğ°Ğ½Ğ¾
}
```

### ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°
ĞœĞ¾Ğ´ĞµĞ»ÑŒ "Ğ·Ğ°Ğ¿Ğ¾Ğ²Ğ½ÑÑ” Ğ¿Ñ€Ğ¾Ğ±Ñ–Ğ»Ğ¸" Ñƒ ÑÑ…ĞµĞ¼Ñ– Ğ´Ğ°Ğ½Ğ¸Ğ¼Ğ¸ ÑĞºÑ– Ğ·Ğ´Ğ°ÑÑ‚ÑŒÑÑ Ğ¿Ñ€Ğ°Ğ²Ğ´Ğ¾Ğ¿Ğ¾Ğ´Ñ–Ğ±Ğ½Ğ¸Ğ¼Ğ¸.

### Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ 1: Optional Ğ¿Ğ¾Ğ»Ñ + Ñ‡Ñ–Ñ‚ĞºÑ– Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ñ–Ñ—

```typescript
// anti-hallucination.ts
import { generateObject } from 'ai';
import { z } from 'zod';

const ReviewAnalysis = z.object({
  // ĞŸĞ¾Ğ»Ñ Ñ‰Ğ¾ Ğ—ĞĞ’Ğ–Ğ”Ğ˜ Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ²Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚Ğ¸
  sentiment: z.enum(['positive', 'negative', 'neutral']),
  
  // ĞŸĞ¾Ğ»Ñ Ñ‰Ğ¾ Ğ¼Ğ¾Ğ¶ÑƒÑ‚ÑŒ Ğ±ÑƒÑ‚Ğ¸ Ğ²Ñ–Ğ´ÑÑƒÑ‚Ğ½Ñ– Ğ² Ñ‚ĞµĞºÑÑ‚Ñ–
  productName: z.string().nullable().describe(
    'ĞĞ°Ğ·Ğ²Ğ° Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ñƒ Ğ¢Ğ†Ğ›Ğ¬ĞšĞ˜ ÑĞºÑ‰Ğ¾ ÑĞ²Ğ½Ğ¾ Ğ·Ğ³Ğ°Ğ´Ğ°Ğ½Ğ° Ğ² Ñ‚ĞµĞºÑÑ‚Ñ–. Ğ¯ĞºÑ‰Ğ¾ Ğ½Ğµ Ğ·Ğ³Ğ°Ğ´Ğ°Ğ½Ğ° â€” null'
  ),
  rating: z.number().nullable().describe(
    'ĞÑ†Ñ–Ğ½ĞºĞ° Ğ¢Ğ†Ğ›Ğ¬ĞšĞ˜ ÑĞºÑ‰Ğ¾ ÑĞ²Ğ½Ğ¾ Ğ²ĞºĞ°Ğ·Ğ°Ğ½Ğ° (Ğ½Ğ°Ğ¿Ñ€Ğ¸ĞºĞ»Ğ°Ğ´ "4/5", "8 Ğ· 10"). Ğ†Ğ½Ğ°ĞºÑˆĞµ â€” null'
  ),
  
  // ĞœĞ°ÑĞ¸Ğ²Ğ¸ Ñ‰Ğ¾ Ğ¼Ğ¾Ğ¶ÑƒÑ‚ÑŒ Ğ±ÑƒÑ‚Ğ¸ Ğ¿Ğ¾Ñ€Ğ¾Ğ¶Ğ½Ñ–Ğ¼Ğ¸
  mentionedIssues: z.array(z.string()).describe(
    'Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼ ÑĞºÑ– Ğ”ĞĞ¡Ğ›Ğ†Ğ’ĞĞ Ğ·Ğ³Ğ°Ğ´Ğ°Ğ½Ñ– Ğ² Ğ²Ñ–Ğ´Ğ³ÑƒĞºÑƒ. ĞŸĞ¾Ñ€Ğ¾Ğ¶Ğ½Ñ–Ğ¹ Ğ¼Ğ°ÑĞ¸Ğ² ÑĞºÑ‰Ğ¾ Ğ½Ñ–Ñ‡Ğ¾Ğ³Ğ¾ Ğ½Ğµ Ğ·Ğ³Ğ°Ğ´Ğ°Ğ½Ğ¾'
  ),
});

const { object } = await generateObject({
  model: openai('gpt-4o'),
  schema: ReviewAnalysis,
  prompt: `ĞŸÑ€Ğ¾Ğ°Ğ½Ğ°Ğ»Ñ–Ğ·ÑƒĞ¹ Ğ²Ñ–Ğ´Ğ³ÑƒĞº. Ğ’ĞĞ–Ğ›Ğ˜Ğ’Ğ:
- ĞĞ• Ğ²Ğ¸Ğ³Ğ°Ğ´ÑƒĞ¹ Ñ–Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ñ–Ñ ÑĞºĞ¾Ñ— Ğ½ĞµĞ¼Ğ°Ñ” Ğ² Ñ‚ĞµĞºÑÑ‚Ñ–
- Ğ”Ğ»Ñ Ğ²Ñ–Ğ´ÑÑƒÑ‚Ğ½ÑŒĞ¾Ñ— Ñ–Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ñ–Ñ— Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ¹ null Ğ°Ğ±Ğ¾ Ğ¿Ğ¾Ñ€Ğ¾Ğ¶Ğ½Ñ–Ğ¹ Ğ¼Ğ°ÑĞ¸Ğ²
- Ğ’Ğ¸Ñ‚ÑĞ³ÑƒĞ¹ Ğ¢Ğ†Ğ›Ğ¬ĞšĞ˜ Ñ‚Ğµ Ñ‰Ğ¾ ÑĞ²Ğ½Ğ¾ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¾

Ğ’Ñ–Ğ´Ğ³ÑƒĞº: "Ğ¢Ğ¾Ğ²Ğ°Ñ€ Ğ¾Ğº"`,
});

console.log(object);
// { sentiment: 'neutral', productName: null, rating: null, mentionedIssues: [] }
```

### Ğ Ñ–ÑˆĞµĞ½Ğ½Ñ 2: Ğ”Ğ¾Ğ´Ğ°Ğ¹Ñ‚Ğµ Ğ¿Ğ¾Ğ»Ğµ "confidence"

```typescript
const FactExtraction = z.object({
  facts: z.array(z.object({
    statement: z.string(),
    confidence: z.enum(['explicit', 'inferred', 'uncertain']).describe(
      'explicit = Ğ´Ğ¾ÑĞ»Ñ–Ğ²Ğ½Ğ¾ Ğ² Ñ‚ĞµĞºÑÑ‚Ñ–, inferred = Ğ»Ğ¾Ğ³Ñ–Ñ‡Ğ½Ğ¸Ğ¹ Ğ²Ğ¸ÑĞ½Ğ¾Ğ²Ğ¾Ğº, uncertain = Ğ¿Ñ€Ğ¸Ğ¿ÑƒÑ‰ĞµĞ½Ğ½Ñ'
    ),
    sourceQuote: z.string().nullable().describe(
      'Ğ¦Ğ¸Ñ‚Ğ°Ñ‚Ğ° Ğ· Ñ‚ĞµĞºÑÑ‚Ñƒ Ñ‰Ğ¾ Ğ¿Ñ–Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¶ÑƒÑ” Ñ„Ğ°ĞºÑ‚, Ğ°Ğ±Ğ¾ null'
    )
  }))
});
```

---

## ğŸ“‹ Ğ§ĞµĞºĞ»Ğ¸ÑÑ‚ Ğ²Ğ¸Ñ€Ñ–ÑˆĞµĞ½Ğ½Ñ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»Ğ¾Ğº

| ĞŸĞ¾Ğ¼Ğ¸Ğ»ĞºĞ° | ĞŸĞµÑ€ÑˆĞ° Ğ´Ñ–Ñ | Ğ”Ñ€ÑƒĞ³Ğ° Ğ´Ñ–Ñ |
|---------|-----------|-----------|
| Context length exceeded | ĞĞ±Ñ€Ñ–Ğ·Ğ°Ñ‚Ğ¸ Ñ–ÑÑ‚Ğ¾Ñ€Ñ–Ñ | Summarization |
| Invalid JSON | Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ñ‚Ğ¸ `generateObject` | Robust parsing |
| 429 Rate limit | Exponential backoff | Batch requests |
| Tool not called | ĞŸĞ¾ĞºÑ€Ğ°Ñ‰Ğ¸Ñ‚Ğ¸ description | `toolChoice: 'required'` |
| Ğ“Ğ°Ğ»ÑÑ†Ğ¸Ğ½Ğ°Ñ†Ñ–Ñ— | Nullable Ğ¿Ğ¾Ğ»Ñ | Ğ”Ğ¾Ğ´Ğ°Ñ‚Ğ¸ confidence |
| 401 Unauthorized | ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ğ¸Ñ‚Ğ¸ API ĞºĞ»ÑÑ‡ | ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€Ğ¸Ñ‚Ğ¸ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ |
| 500 Server Error | Retry Ñ‡ĞµÑ€ĞµĞ· 30s | Ğ¡Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ²Ğ°Ñ‚Ğ¸ Ñ–Ğ½ÑˆÑƒ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ |

---

## ğŸ¤” ĞŸĞµÑ€ĞµĞ²Ñ–Ñ€ ÑĞµĞ±Ğµ

1. Ğ§Ğ¾Ğ¼Ñƒ exponential backoff ĞºÑ€Ğ°Ñ‰Ğµ Ğ½Ñ–Ğ¶ Ñ„Ñ–ĞºÑĞ¾Ğ²Ğ°Ğ½Ğ° Ğ·Ğ°Ñ‚Ñ€Ğ¸Ğ¼ĞºĞ° Ğ¿Ñ€Ğ¸ retry?
2. Ğ¯Ğº Ğ·Ğ°Ğ¿Ğ¾Ğ±Ñ–Ğ³Ñ‚Ğ¸ Ğ³Ğ°Ğ»ÑÑ†Ğ¸Ğ½Ğ°Ñ†Ñ–ÑĞ¼ Ñƒ structured output?
3. ĞšĞ¾Ğ»Ğ¸ ĞĞ• Ğ²Ğ°Ñ€Ñ‚Ğ¾ Ñ€Ğ¾Ğ±Ğ¸Ñ‚Ğ¸ retry?

<details>
<summary>ğŸ“ Ğ’Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ñ–</summary>

1. Exponential backoff Ğ´Ğ°Ñ” ÑĞµÑ€Ğ²ĞµÑ€Ñƒ Ñ‡Ğ°Ñ Ğ²Ñ–Ğ´Ğ½Ğ¾Ğ²Ğ¸Ñ‚Ğ¸ÑÑŒ Ñ– Ğ·Ğ°Ğ¿Ğ¾Ğ±Ñ–Ğ³Ğ°Ñ” "Ñ…Ğ²Ğ¸Ğ»ÑĞ¼" Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¸Ñ… Ğ·Ğ°Ğ¿Ğ¸Ñ‚Ñ–Ğ² Ğ²Ñ–Ğ´ Ğ±Ğ°Ğ³Ğ°Ñ‚ÑŒĞ¾Ñ… ĞºĞ»Ñ–Ñ”Ğ½Ñ‚Ñ–Ğ² Ğ¾Ğ´Ğ½Ğ¾Ñ‡Ğ°ÑĞ½Ğ¾.

2. Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ nullable Ğ¿Ğ¾Ğ»Ñ, Ğ´Ğ¾Ğ´Ğ°Ğ²Ğ°Ñ‚Ğ¸ confidence level, ÑĞ²Ğ½Ğ¾ Ñ–Ğ½ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ ĞĞ• Ğ²Ğ¸Ğ³Ğ°Ğ´ÑƒĞ²Ğ°Ñ‚Ğ¸.

3. ĞŸÑ€Ğ¸ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ°Ñ… 4xx (ĞºÑ€Ñ–Ğ¼ 429) â€” Ñ†Ğµ Ğ¿Ğ¾Ğ¼Ğ¸Ğ»ĞºĞ¸ ĞºĞ»Ñ–Ñ”Ğ½Ñ‚Ğ° (Ğ½ĞµĞ²Ğ°Ğ»Ñ–Ğ´Ğ½Ğ¸Ğ¹ Ğ·Ğ°Ğ¿Ğ¸Ñ‚, unauthorized), retry Ğ½Ğµ Ğ´Ğ¾Ğ¿Ğ¾Ğ¼Ğ¾Ğ¶Ğµ.
</details>

---

*ĞŸÑ€Ğ¾Ğ´Ğ¾Ğ²Ğ¶ĞµĞ½Ğ½Ñ Ñƒ Part 2: Function Calling, AI ĞĞ³ĞµĞ½Ñ‚Ğ¸, Real-World Use Cases*
