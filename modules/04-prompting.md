# –ú–æ–¥—É–ª—å 04: –ü—Ä–æ–º–ø—Ç-—ñ–Ω–∂–µ–Ω–µ—Ä—ñ—è ‚Äî –ú–∏—Å—Ç–µ—Ü—Ç–≤–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤

## üéØ –©–æ –≤–∏ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –∑ —Ü—å–æ–≥–æ –º–æ–¥—É–ª—è

–ü—ñ—Å–ª—è –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è –≤–∏ –±—É–¥–µ—Ç–µ:
- –ü–∏—Å–∞—Ç–∏ system prompts —è–∫—ñ –¥–∞—é—Ç—å —Å—Ç–∞–±—ñ–ª—å–Ω—ñ, –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
- –ó–Ω–∞—Ç–∏ —Ç–µ—Ö–Ω—ñ–∫–∏: zero-shot, few-shot, chain-of-thought
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —à–∞–±–ª–æ–Ω–∏ –ø—Ä–æ–º–ø—Ç—ñ–≤ –¥–ª—è —Ç–∏–ø–æ–≤–∏—Ö –∑–∞–¥–∞—á
- –†–æ–∑—É–º—ñ—Ç–∏ —á–æ–º—É –ø—Ä–æ–º–ø—Ç ‚Äî —Ü–µ –∫–æ–¥, —ñ –π–æ–≥–æ —Ç—Ä–µ–±–∞ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏

**–Ø–∫—ñ –∑–∞–¥–∞—á—ñ —Ü–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∏—Ä—ñ—à—É–≤–∞—Ç–∏:** –†—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ "–ø—Ä–∞—Ü—é—î —ñ–Ω–æ–¥—ñ" —ñ "–ø—Ä–∞—Ü—é—î —Å—Ç–∞–±—ñ–ª—å–Ω–æ –≤ production" ‚Äî —Ü–µ —è–∫—ñ—Å—Ç—å –ø—Ä–æ–º–ø—Ç—É. –•–æ—Ä–æ—à–∏–π –ø—Ä–æ–º–ø—Ç –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î –Ω–µ–Ω–∞–¥—ñ–π–Ω—É LLM-–≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç.

---

## 4.1 –ß–æ–º—É –ø—Ä–æ–º–ø—Ç ‚Äî —Ü–µ –≤–∞–∂–ª–∏–≤–æ

–û–¥–∏–Ω —ñ —Ç–æ–π –∂–µ LLM –º–æ–∂–µ –¥–∞—Ç–∏ –≥–µ–Ω—ñ–∞–ª—å–Ω–∏–π —ñ –∂–∞—Ö–ª–∏–≤–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–æ–≥–æ, –Ø–ö –≤–∏ —Å—Ñ–æ—Ä–º—É–ª—é–≤–∞–ª–∏ –∑–∞–ø–∏—Ç.

### –ü–æ–≥–∞–Ω–∏–π –ø—Ä–æ–º–ø—Ç vs –•–æ—Ä–æ—à–∏–π –ø—Ä–æ–º–ø—Ç

```typescript
// ‚ùå –ü–æ–≥–∞–Ω–∏–π –ø—Ä–æ–º–ø—Ç ‚Äî –Ω–µ—á—ñ—Ç–∫–∏–π, –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É
const bad = await generateText({
  model: openai('gpt-4o-mini'),
  prompt: '–ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π —Ü–µ–π –∫–æ–¥',
});
// –†–µ–∑—É–ª—å—Ç–∞—Ç: –∑–∞–≥–∞–ª—å–Ω—ñ —Ñ—Ä–∞–∑–∏, –Ω–µ–≤–∏–∑–Ω–∞—á–µ–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç

// ‚úÖ –•–æ—Ä–æ—à–∏–π –ø—Ä–æ–º–ø—Ç ‚Äî —á—ñ—Ç–∫–∏–π, —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π
const good = await generateText({
  model: openai('gpt-4o-mini'),
  system: `–¢–∏ ‚Äî senior TypeScript —Ä–æ–∑—Ä–æ–±–Ω–∏–∫. –ê–Ω–∞–ª—ñ–∑—É—î—à –∫–æ–¥ –Ω–∞:
1. –ü–æ–º–∏–ª–∫–∏ —Ç–∞ –±–∞–≥–∏
2. –ü—Ä–æ–±–ª–µ–º–∏ –±–µ–∑–ø–µ–∫–∏
3. –ü–æ—Ä—É—à–µ–Ω–Ω—è TypeScript best practices

–§–æ—Ä–º–∞—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ:
- –ó–Ω–∞–π–¥–µ–Ω–æ –ø—Ä–æ–±–ª–µ–º: [—á–∏—Å–ª–æ]
- –ö—Ä–∏—Ç–∏—á–Ω–∏—Ö: [—á–∏—Å–ª–æ]
- –°–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º –∑ –Ω–æ–º–µ—Ä–∞–º–∏ —Ä—è–¥–∫—ñ–≤`,
  prompt: `–ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π —Ü–µ–π TypeScript –∫–æ–¥:

\`\`\`typescript
${code}
\`\`\``,
});
// –†–µ–∑—É–ª—å—Ç–∞—Ç: —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π, –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π, –∫–æ—Ä–∏—Å–Ω–∏–π
```

---

## 4.2 –ê–Ω–∞—Ç–æ–º—ñ—è –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ System Prompt

System prompt —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ **5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤** (–Ω–µ –≤—Å—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ):

```typescript
const systemPrompt = `
## –†–æ–ª—å
–¢–∏ ‚Äî AI-–∞—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω—É –µ–ª–µ–∫—Ç—Ä–æ–Ω—ñ–∫–∏.

## –ó–∞–¥–∞—á–∞
–ö–ª–∞—Å–∏—Ñ—ñ–∫—É–π –≤—Ö—ñ–¥–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–ª—ñ—î–Ω—Ç–∞ —Ç–∞ –≤–∏–∑–Ω–∞—á –¥—ñ—é.

## –ü—Ä–∞–≤–∏–ª–∞
- –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –¢–Ü–õ–¨–ö–ò —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é
- –Ø–∫—â–æ –Ω–µ –≤–ø–µ–≤–Ω–µ–Ω–∏–π —É –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó ‚Äî –æ–±–µ—Ä–∏ "other"
- –ù—ñ–∫–æ–ª–∏ –Ω–µ –≤–∏–≥–∞–¥—É–π —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- –ù–µ –æ–±—ñ—Ü—è–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —Ç–µ—Ä–º—ñ–Ω—ñ–≤ –¥–æ—Å—Ç–∞–≤–∫–∏

## –§–æ—Ä–º–∞—Ç –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
–í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –≤–∏–∫–ª—é—á–Ω–æ —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON:
{
  "category": "order_status" | "return" | "complaint" | "question" | "other",
  "priority": "low" | "medium" | "high",
  "suggested_action": "string"
}

## –ü—Ä–∏–∫–ª–∞–¥–∏
–í—Ö—ñ–¥: "–î–µ –º–æ—î –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è #12345?"
–í–∏—Ö—ñ–¥: {"category": "order_status", "priority": "medium", "suggested_action": "–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è #12345"}

–í—Ö—ñ–¥: "–í–∞—à –ø—Ä–æ–¥—É–∫—Ç ‚Äî –ª–∞–π–Ω–æ, —Ö–æ—á—É –ø–æ–≤–µ—Ä–Ω—É—Ç–∏"
–í–∏—Ö—ñ–¥: {"category": "return", "priority": "high", "suggested_action": "–ó–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–æ—Ü–µ—Å –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è, –∑'—î–¥–Ω–∞—Ç–∏ –∑ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º"}
`;
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ system prompt

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ù–∞–≤—ñ—â–æ | –ü—Ä–∏–∫–ª–∞–¥ |
|-----------|--------|---------|
| **–†–æ–ª—å** | –ó–∞–¥–∞—î –∫–æ–Ω—Ç–µ–∫—Å—Ç —ñ —Ä—ñ–≤–µ–Ω—å –µ–∫—Å–ø–µ—Ä—Ç–∏–∑–∏ | "–¢–∏ ‚Äî senior TypeScript —Ä–æ–∑—Ä–æ–±–Ω–∏–∫" |
| **–ó–∞–¥–∞—á–∞** | –ß—ñ—Ç–∫–æ —Ñ–æ—Ä–º—É–ª—é—î —â–æ —Å–∞–º–µ —Ä–æ–±–∏—Ç–∏ | "–ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π –∫–æ–¥ –Ω–∞ –ø–æ–º–∏–ª–∫–∏ –±–µ–∑–ø–µ–∫–∏" |
| **–ü—Ä–∞–≤–∏–ª–∞** | –û–±–º–µ–∂–µ–Ω–Ω—è —Ç–∞ boundaries | "–ù–µ –≤–∏–≥–∞–¥—É–π —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é", "–í—ñ–¥–ø–æ–≤—ñ–¥–∞–π JSON" |
| **–§–æ—Ä–º–∞—Ç** | –Ø–∫ –ø–æ–≤–∏–Ω–Ω–∞ –≤–∏–≥–ª—è–¥–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å | JSON schema, markdown —à–∞–±–ª–æ–Ω |
| **–ü—Ä–∏–∫–ª–∞–¥–∏** | –î–µ–º–æ–Ω—Å—Ç—Ä—É—î –æ—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç | –í—Ö—ñ–¥ ‚Üí –í–∏—Ö—ñ–¥ –ø–∞—Ä–∏ |

---

## 4.3 –¢–µ—Ö–Ω—ñ–∫–∏ –ø—Ä–æ–º–ø—Ç–∏–Ω–≥—É

### Zero-Shot ‚Äî –±–µ–∑ –ø—Ä–∏–∫–ª–∞–¥—ñ–≤

–ú–æ–¥–µ–ª—å –æ—Ç—Ä–∏–º—É—î –ª–∏—à–µ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—é, –±–µ–∑ –ø—Ä–∏–∫–ª–∞–¥—ñ–≤:

```typescript
const { text } = await generateText({
  model: openai('gpt-4o-mini'),
  system: '–í–∏–∑–Ω–∞—á —Ç–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å —Ç–µ–∫—Å—Ç—É. –í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –æ–¥–Ω–∏–º —Å–ª–æ–≤–æ–º: positive, negative, neutral.',
  prompt: '–î—É–∂–µ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–∏–π –ø–æ–∫—É–ø–∫–æ—é, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é!',
});
// "positive"
```

**–ö–æ–ª–∏ –ø—Ä–∞—Ü—é—î:** –ü—Ä–æ—Å—Ç—ñ, –æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ñ –∑–∞–¥–∞—á—ñ –¥–µ –º–æ–¥–µ–ª—å —ñ —Ç–∞–∫ "–∑–Ω–∞—î" —â–æ —Ä–æ–±–∏—Ç–∏.

### Few-Shot ‚Äî –∑ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏

–í–∏ –ø–æ–∫–∞–∑—É—î—Ç–µ –º–æ–¥–µ–ª—ñ –∫—ñ–ª—å–∫–∞ –ø—Ä–∏–∫–ª–∞–¥—ñ–≤ –≤—Ö—ñ–¥‚Üí–≤–∏—Ö—ñ–¥:

```typescript
const { text } = await generateText({
  model: openai('gpt-4o-mini'),
  system: `–ü–µ—Ä–µ—Ç–≤–æ—Ä–∏ –Ω–µ—Ñ–æ—Ä–º–∞–ª—å–Ω–∏–π —Ç–µ–∫—Å—Ç –Ω–∞ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π email.

–ü—Ä–∏–∫–ª–∞–¥ 1:
–í—Ö—ñ–¥: "—Ö–∞–π, –ø–æ—Ç—Ä—ñ–±–Ω–æ –º—ñ—Ç–Ω—É—Ç–∏—Å—å –∑–∞–≤—Ç—Ä–∞ –æ 3"
–í–∏—Ö—ñ–¥: "–î–æ–±—Ä–æ–≥–æ –¥–Ω—è! –ü—Ä–æ–ø–æ–Ω—É—é –ø—Ä–æ–≤–µ—Å—Ç–∏ –∑—É—Å—Ç—Ä—ñ—á –∑–∞–≤—Ç—Ä–∞ –æ 15:00. –ß–∏ –∑—Ä—É—á–Ω–∏–π –¥–ª—è –í–∞—Å —Ü–µ–π —á–∞—Å?"

–ü—Ä–∏–∫–ª–∞–¥ 2:
–í—Ö—ñ–¥: "–µ–π, —Ç–∞–º –±–∞–≥ –Ω–∞ –ø—Ä–æ–¥—ñ, –≤—Å–µ –∑–ª–∞–º–∞–ª–æ—Å—å"
–í–∏—Ö—ñ–¥: "–ö–æ–º–∞–Ω–¥–∞, –≤–∏—è–≤–ª–µ–Ω–æ –∫—Ä–∏—Ç–∏—á–Ω–∏–π –±–∞–≥ —É production-—Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ. –ü—Ä–æ—à—É —Ç–µ—Ä–º—ñ–Ω–æ–≤–æ –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ —Ç–∞ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏. –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: –≤–∏—Å–æ–∫–∏–π."

–ü—Ä–∏–∫–ª–∞–¥ 3:
–í—Ö—ñ–¥: "–Ω–æ—Ä–º, –∑—Ä–æ–±–ª—é –¥–æ –ø º—è—Ç–Ω–∏—Ü—ñ"
–í–∏—Ö—ñ–¥: "–î—è–∫—É—é, –±–µ—Ä—É –∑–∞–¥–∞—á—É –≤ —Ä–æ–±–æ—Ç—É. –ü–ª–∞–Ω—É—é –∑–∞–≤–µ—Ä—à–∏—Ç–∏ –¥–æ –∫—ñ–Ω—Ü—è —Ä–æ–±–æ—á–æ–≥–æ –¥–Ω—è –ø'—è—Ç–Ω–∏—Ü—ñ."`,

  prompt: '—Ç—Ä–µ–±–∞ –∑–∞—Ä–µ–ª—ñ–∑–∏—Ç–∏ –Ω–æ–≤—É –≤–µ—Ä—Å—ñ—é, —Ö—Ç–æ –º–æ–∂–µ –¥–æ–ø–æ–º–æ–≥—Ç–∏?',
});
```

**–ö–æ–ª–∏ –ø—Ä–∞—Ü—é—î:** –ö–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–µ–Ω —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç –∞–±–æ —Å—Ç–∏–ª—å, —è–∫–æ–≥–æ –º–æ–¥–µ–ª—å –Ω–µ –º–æ–∂–µ –≤–≥–∞–¥–∞—Ç–∏ –∑ –æ–¥–Ω—ñ—î—ó —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó. Few-shot ‚Äî **–Ω–∞–π–µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–∞ —Ç–µ—Ö–Ω—ñ–∫–∞** –¥–ª—è –±—ñ–ª—å—à–æ—Å—Ç—ñ production –∑–∞–¥–∞—á.

### Chain-of-Thought (CoT) ‚Äî –ø–æ–∫—Ä–æ–∫–æ–≤–µ –º—ñ—Ä–∫—É–≤–∞–Ω–Ω—è

–ü—Ä–æ—Å–∏—Ç–µ –º–æ–¥–µ–ª—å "–¥—É–º–∞—Ç–∏ –≤–≥–æ–ª–æ—Å" –ø–µ—Ä–µ–¥ —Ñ—ñ–Ω–∞–ª—å–Ω–æ—é –≤—ñ–¥–ø–æ–≤—ñ–¥–¥—é:

```typescript
const { text } = await generateText({
  model: openai('gpt-4o-mini'),
  system: `–¢–∏ –∞–Ω–∞–ª—ñ–∑—É—î—à –±—ñ–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏. 
–ü–µ—Ä–µ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–¥—é –ó–ê–í–ñ–î–ò –ø–æ–∫–∞–∑—É–π —Å–≤–æ—ó –º—ñ—Ä–∫—É–≤–∞–Ω–Ω—è –ø–æ–∫—Ä–æ–∫–æ–≤–æ.

–§–æ—Ä–º–∞—Ç:
–ö—Ä–æ–∫ 1: [–∞–Ω–∞–ª—ñ–∑]
–ö—Ä–æ–∫ 2: [–∞–Ω–∞–ª—ñ–∑]
...
–í–∏—Å–Ω–æ–≤–æ–∫: [—Ñ—ñ–Ω–∞–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å]`,

  prompt: `–ù–∞—à SaaS –ø—Ä–æ–¥—É–∫—Ç:
- MRR: $50,000
- Churn rate: 8% –Ω–∞ –º—ñ—Å—è—Ü—å  
- CAC: $500
- LTV: $2,000
- –ó—Ä–æ—Å—Ç–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö –∫–ª—ñ—î–Ω—Ç—ñ–≤: 15% –Ω–∞ –º—ñ—Å—è—Ü—å

–ß–∏ –∑–¥–æ—Ä–æ–≤–∏–π —Ü–µ–π –±—ñ–∑–Ω–µ—Å?`,
});
```

**–ö–æ–ª–∏ –ø—Ä–∞—Ü—é—î:** –°–∫–ª–∞–¥–Ω—ñ –∑–∞–¥–∞—á—ñ –∑ –ª–æ–≥—ñ–∫–æ—é, –∞–Ω–∞–ª—ñ–∑–æ–º, –º–∞—Ç–µ–º–∞—Ç–∏–∫–æ—é. CoT –∑–Ω–∞—á–Ω–æ –ø–æ–∫—Ä–∞—â—É—î —Ç–æ—á–Ω—ñ—Å—Ç—å –Ω–∞ –∑–∞–¥–∞—á–∞—Ö —â–æ –≤–∏–º–∞–≥–∞—é—Ç—å –∫—ñ–ª—å–∫–æ—Ö –∫—Ä–æ–∫—ñ–≤ –º—ñ—Ä–∫—É–≤–∞–Ω–Ω—è.

---

## 4.4 –®–∞–±–ª–æ–Ω–∏ –ø—Ä–æ–º–ø—Ç—ñ–≤ –¥–ª—è —Ç–∏–ø–æ–≤–∏—Ö –∑–∞–¥–∞—á

### –ö–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—è

```typescript
function classificationPrompt(categories: string[], text: string) {
  return {
    system: `–ö–ª–∞—Å–∏—Ñ—ñ–∫—É–π —Ç–µ–∫—Å—Ç —É –æ–¥–Ω—É –∑ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π: ${categories.join(', ')}.
–í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –¢–Ü–õ–¨–ö–ò –Ω–∞–∑–≤–æ—é –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó, –±–µ–∑ –ø–æ—è—Å–Ω–µ–Ω—å.`,
    prompt: text,
  };
}
```

### –í–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö

```typescript
function extractionPrompt(fieldsDescription: string, text: string) {
  return {
    system: `–í–∏—Ç—è–≥–Ω–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ –¥–∞–Ω—ñ –∑ —Ç–µ–∫—Å—Ç—É:
${fieldsDescription}

–Ø–∫—â–æ –ø–æ–ª–µ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –≤ —Ç–µ–∫—Å—Ç—ñ ‚Äî –ø–æ—Å—Ç–∞–≤ null.
–í—ñ–¥–ø–æ–≤—ñ–¥–∞–π —É —Ñ–æ—Ä–º–∞—Ç—ñ JSON.`,
    prompt: text,
  };
}
```

### –ü–µ—Ä–µ—Ñ—Ä–∞–∑—É–≤–∞–Ω–Ω—è / –ê–¥–∞–ø—Ç–∞—Ü—ñ—è

```typescript
function rewritePrompt(style: string, text: string) {
  return {
    system: `–ü–µ—Ä–µ–ø–∏—à–∏ —Ç–µ–∫—Å—Ç —É —Å—Ç–∏–ª—ñ: ${style}.
–ó–±–µ—Ä–µ–∂–∏ –≤–µ—Å—å –∑–º—ñ—Å—Ç, –∑–º—ñ–Ω–∏ —Ç—ñ–ª—å–∫–∏ —Å—Ç–∏–ª—å —Ç–∞ —Ç–æ–Ω.
–ù–µ –¥–æ–¥–∞–≤–∞–π –Ω–æ–≤–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó.`,
    prompt: text,
  };
}
```

### –ü—ñ–¥—Å—É–º–æ–∫ / Summary

```typescript
function summaryPrompt(maxSentences: number, text: string) {
  return {
    system: `–°—Ç–≤–æ—Ä–∏ –ø—ñ–¥—Å—É–º–æ–∫ —Ç–µ–∫—Å—Ç—É —É ${maxSentences} —Ä–µ—á–µ–Ω–Ω—è—Ö.
–ó–±–µ—Ä–µ–∂–∏ –∫–ª—é—á–æ–≤—ñ —Ñ–∞–∫—Ç–∏ —Ç–∞ —Ü–∏—Ñ—Ä–∏.
–ù–µ –¥–æ–¥–∞–≤–∞–π –≤–ª–∞—Å–Ω–∏—Ö –≤–∏—Å–Ω–æ–≤–∫—ñ–≤.`,
    prompt: text,
  };
}
```

---

## 4.5 Anti-patterns: –ß–æ–≥–æ –ù–ï —Ä–æ–±–∏—Ç–∏

| Anti-pattern | –ß–æ–º—É –ø–æ–≥–∞–Ω–æ | –Ø–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ |
|-------------|------------|-------------|
| "–ë—É–¥—å —Ç–æ—á–Ω–∏–º" | –ó–∞–Ω–∞–¥—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ | –î–∞–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç —Ç–∞ –ø—Ä–∏–∫–ª–∞–¥–∏ |
| –ó–∞–Ω–∞–¥—Ç–æ –¥–æ–≤–≥–∏–π –ø—Ä–æ–º–ø—Ç | –ú–æ–¥–µ–ª—å "–≥—É–±–∏—Ç—å—Å—è" –≤ —Å–µ—Ä–µ–¥–∏–Ω—ñ | –¢—Ä–∏–º–∞–π—Ç–µ <500 —Å–ª—ñ–≤, –≤–∏–Ω–æ—Å—å—Ç–µ –¥–∞–Ω—ñ –æ–∫—Ä–µ–º–æ |
| –ü—Ä–æ—Ç–∏—Ä—ñ—á–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó | –ú–æ–¥–µ–ª—å –æ–±–∏—Ä–∞—î –≤–∏–ø–∞–¥–∫–æ–≤–æ | –ü–µ—Ä–µ—á–∏—Ç–∞–π—Ç–µ –ø—Ä–æ–º–ø—Ç ‚Äî —î –∫–æ–Ω—Ñ–ª—ñ–∫—Ç–∏? |
| "–ù–µ —Ä–æ–±–∏ X" | –ú–æ–¥–µ–ª—å —á–∞—Å—Ç–æ —ñ–≥–Ω–æ—Ä—É—î –∑–∞–ø–µ—Ä–µ—á–µ–Ω–Ω—è | –°–∫–∞–∂—ñ—Ç—å —â–æ –†–û–ë–ò–¢–ò –∑–∞–º—ñ—Å—Ç—å "–Ω–µ —Ä–æ–±–∏—Ç–∏" |
| –ü—Ä–æ–º–ø—Ç –±–µ–∑ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è | –ü—Ä–∞—Ü—é—î –Ω–∞ 3 –ø—Ä–∏–∫–ª–∞–¥–∞—Ö, –ª–∞–º–∞—î—Ç—å—Å—è –Ω–∞ 100 | –¢–µ—Å—Ç—É–π—Ç–µ –Ω–∞ —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω–∏—Ö —Ä–µ–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö |

---

## 4.6 –ü—Ä–æ–º–ø—Ç —è–∫ –∫–æ–¥: –≤–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–í production –ø—Ä–æ–º–ø—Ç–∏ —Ç—Ä–µ–±–∞ —Ç—Ä–∏–º–∞—Ç–∏ **—è–∫ –∫–æ–¥** ‚Äî –≤–µ—Ä—Å—ñ–æ–Ω—É–≤–∞—Ç–∏, —Ç–µ—Å—Ç—É–≤–∞—Ç–∏, —Ä–µ–≤'—é–≤–∞—Ç–∏:

```typescript
// prompts/classify-ticket.ts
export const CLASSIFY_TICKET_V2 = {
  version: '2.0',
  system: `–¢–∏ –∫–ª–∞—Å–∏—Ñ—ñ–∫—É—î—à —Ç—ñ–∫–µ—Ç–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏.
–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó: billing, technical, feature_request, complaint, other.
–í—ñ–¥–ø–æ–≤—ñ–¥–∞–π –æ–¥–Ω–∏–º —Å–ª–æ–≤–æ–º ‚Äî –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é.`,
  temperature: 0,
  model: 'gpt-4o-mini',
};

// –ü—Ä–æ—Å—Ç–∏–π —Ç–µ—Å—Ç
import { generateText } from 'ai';
import { openai } from '@ai-sdk/openai';

async function testPrompt() {
  const testCases = [
    { input: '–ù–µ –º–æ–∂—É –æ–ø–ª–∞—Ç–∏—Ç–∏ –ø—ñ–¥–ø–∏—Å–∫—É', expected: 'billing' },
    { input: '–°–∞–π—Ç –≤–∏–¥–∞—î 500 –ø–æ–º–∏–ª–∫—É', expected: 'technical' },
    { input: '–ë—É–ª–æ –± –∫—Ä—É—Ç–æ –º–∞—Ç–∏ dark mode', expected: 'feature_request' },
  ];

  let passed = 0;
  for (const { input, expected } of testCases) {
    const { text } = await generateText({
      model: openai(CLASSIFY_TICKET_V2.model),
      system: CLASSIFY_TICKET_V2.system,
      temperature: CLASSIFY_TICKET_V2.temperature,
      prompt: input,
    });

    const result = text.trim().toLowerCase();
    if (result === expected) {
      passed++;
      console.log(`‚úÖ "${input}" ‚Üí ${result}`);
    } else {
      console.log(`‚ùå "${input}" ‚Üí ${result} (–æ—á—ñ–∫—É–≤–∞–ª–æ—Å—å: ${expected})`);
    }
  }
  console.log(`\n–†–µ–∑—É–ª—å—Ç–∞—Ç: ${passed}/${testCases.length}`);
}
```

---

## –ü–µ—Ä–µ–≤—ñ—Ä —Å–µ–±–µ

1. –ù–∞–∑–≤—ñ—Ç—å 5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ system prompt
2. –ß–∏–º few-shot –≤—ñ–¥—Ä—ñ–∑–Ω—è—î—Ç—å—Å—è –≤—ñ–¥ zero-shot? –ö–æ–ª–∏ —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?
3. –ù–∞–ø–∏—à—ñ—Ç—å system prompt –¥–ª—è –∑–∞–¥–∞—á—ñ: –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—è email —É 4 –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
4. –ß–æ–º—É "–ù–µ –≤–∏–≥–∞–¥—É–π —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é" ‚Äî —Ü–µ –ø–æ–≥–∞–Ω–∏–π –ø—Ä–æ–º–ø—Ç? –Ø–∫ –π–æ–≥–æ –ø–æ–∫—Ä–∞—â–∏—Ç–∏?
5. –°—Ç–≤–æ—Ä—ñ—Ç—å 3 —Ç–µ—Å—Ç–æ–≤–∏—Ö –∫–µ–π—Å–∏ –¥–ª—è —Å–≤–æ–≥–æ –ø—Ä–æ–º–ø—Ç—É –∑ –ø—É–Ω–∫—Ç—É 3

---

**–ù–∞–∑–∞–¥:** [‚Üê –ú–æ–¥—É–ª—å 03 ‚Äî AI SDK](03-ai-sdk.md) | **–î–∞–ª—ñ:** [–ú–æ–¥—É–ª—å 05 ‚Äî Structured Output ‚Üí](05-structured-output.md)
